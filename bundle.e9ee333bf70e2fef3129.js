webpackJsonp([1],{131:function(e,t,r){"use strict";r.d(t,"a",function(){return c});var a=r(319),n=(r.n(a),r(45)),i=(r.n(n),r(58)),c=r.i(a.createSelector)(i.a,function(e){var t=e.response,r=t[t.length-1].year_month,a=new Date(r);a.setDate(1);var n=new Date(a);return n.setFullYear(n.getFullYear()-2),{endDate:a,startDate:n}}),s=r.i(a.createSelector)(c,i.a,function(e,t){var r=e.endDate,a=e.startDate;return t.response.filter(function(e){return e.year_month>=a&&e.year_month<r})}),o=r.i(a.createSelector)(s,i.b,i.c,function(e,t,r){return e.reduce(function(e,a){var n=a.year_month,i={};return i[r]=a[r],i.year_month=n,i.total=0,i.totalInjured=0,i.totalKilled=0,Object.keys(a).filter(function(e){return t.includes(e)}).forEach(function(e){var t=a[e];i[e]=t,i.total+=t,e.indexOf("injured")>-1&&(i.totalInjured+=t),e.indexOf("killed")>-1&&(i.totalKilled+=t)}),e.push(i),e},[])}),l=r.i(a.createSelector)(o,i.c,function(e,t){var r=n.nest().key(function(e){return e[t]}).entries(e);return r.forEach(function(e){e.key=isNaN(+e.key)?e.key:+e.key,e.totalKilled=n.sum(e.values,function(e){return e.totalKilled}),e.totalInjured=n.sum(e.values,function(e){return e.totalInjured}),e.maxTotal=n.max(e.values,function(e){return e.total}),e.sortTotal=e.totalInjured+e.totalKilled/1e3}),r.sort(function(e,t){return t.totalInjured-e.totalInjured||t.totalKilled-e.totalKilled}).forEach(function(e,t){var a=r[t-1];a&&(a.sortTotal===e.sortTotal?e.rank=a.rank:e.rank=a.rank+1),a||(e.rank=1)}),r}),u=l;t.b=u,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(c,"lastThreeYearsSelector","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reduxSelectorsRankedList.js"),__REACT_HOT_LOADER__.register(s,"filterLastThreeYearsSelector","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reduxSelectorsRankedList.js"),__REACT_HOT_LOADER__.register(o,"lastThreeYearsFilteredByType","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reduxSelectorsRankedList.js"),__REACT_HOT_LOADER__.register(l,"rankedListSelector","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reduxSelectorsRankedList.js"),__REACT_HOT_LOADER__.register(u,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reduxSelectorsRankedList.js"))}()},17:function(e,t,r){"use strict";r.d(t,"c",function(){return i}),r.d(t,"k",function(){return c}),r.d(t,"h",function(){return s}),r.d(t,"i",function(){return o}),r.d(t,"d",function(){return l}),r.d(t,"e",function(){return u}),r.d(t,"j",function(){return p}),r.d(t,"b",function(){return h}),r.d(t,"a",function(){return m}),r.d(t,"g",function(){return _}),r.d(t,"f",function(){return y});var a=r(3),n=r.n(a),i=n.a.oneOfType([n.a.number,n.a.string]),c=n.a.instanceOf(Date),s=n.a.shape({color:n.a.string,key:i,values:n.a.arrayOf(n.a.object)}),o=n.a.shape({primary:s,secondary:s,entityType:n.a.string}),l=n.a.shape({fatality:n.a.shape({cyclist:n.a.bool.isRequired,motorist:n.a.bool.isRequired,pedestrian:n.a.bool.isRequired}),injury:n.a.shape({cyclist:n.a.bool.isRequired,motorist:n.a.bool.isRequired,pedestrian:n.a.bool.isRequired}),noInjuryFatality:n.a.bool.isRequired}),u=n.a.shape({vehicle:n.a.shape({car:n.a.bool.isRequired,truck:n.a.bool.isRequired,motorcycle:n.a.bool.isRequired,bicycle:n.a.bool.isRequired,suv:n.a.bool.isRequired,busvan:n.a.bool.isRequired,scooter:n.a.bool.isRequired,other:n.a.bool.isRequired})}),d=n.a.shape({primary:s,secondary:s}),p=n.a.shape({endDate:c,startDate:c}),h=n.a.shape({period1:p.isRequired,period2:p.isRequired}),m=n.a.string,_=n.a.shape({response:n.a.arrayOf(n.a.object),ranked:n.a.arrayOf(n.a.object)}),y=n.a.arrayOf(n.a.arrayOf(n.a.number));!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(i,"key","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reactPropTypeDefs.js"),__REACT_HOT_LOADER__.register(c,"date","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reactPropTypeDefs.js"),__REACT_HOT_LOADER__.register(s,"entity","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reactPropTypeDefs.js"),__REACT_HOT_LOADER__.register(o,"entities","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reactPropTypeDefs.js"),__REACT_HOT_LOADER__.register(l,"filterType","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reactPropTypeDefs.js"),__REACT_HOT_LOADER__.register(u,"filterVehicle","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reactPropTypeDefs.js"),__REACT_HOT_LOADER__.register(d,"valuesByDateRange","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reactPropTypeDefs.js"),__REACT_HOT_LOADER__.register(p,"dateRange","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reactPropTypeDefs.js"),__REACT_HOT_LOADER__.register(h,"dateRanges","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reactPropTypeDefs.js"),__REACT_HOT_LOADER__.register(m,"chartView","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reactPropTypeDefs.js"),__REACT_HOT_LOADER__.register(_,"data","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reactPropTypeDefs.js"),__REACT_HOT_LOADER__.register(y,"coordinatelist","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reactPropTypeDefs.js"))}()},194:function(e,t,r){"use strict";r.d(t,"b",function(){return n});var a=r(20),n=function(){return{type:a.a}},i=function(){return{type:a.b}};!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(n,"clearCustomGeography","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/actions/customGeographyActions.js"),__REACT_HOT_LOADER__.register(i,"changeCustomGeography","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/actions/customGeographyActions.js"))}()},195:function(e,t,r){"use strict";function a(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}r.d(t,"e",function(){return m}),r.d(t,"a",function(){return y}),r.d(t,"d",function(){return f}),r.d(t,"c",function(){return E}),r.d(t,"b",function(){return g});var n=r(869),i=r.n(n),c=a(["\n      hasvehicle_other OR (\n        NOT hasvehicle_car AND\n        NOT hasvehicle_truck AND\n        NOT hasvehicle_motorcycle AND\n        NOT hasvehicle_bicycle AND\n        NOT hasvehicle_suv AND\n        NOT hasvehicle_busvan AND\n        NOT hasvehicle_scooter AND\n        NOT hasvehicle_other\n      )\n    "],["\n      hasvehicle_other OR (\n        NOT hasvehicle_car AND\n        NOT hasvehicle_truck AND\n        NOT hasvehicle_motorcycle AND\n        NOT hasvehicle_bicycle AND\n        NOT hasvehicle_suv AND\n        NOT hasvehicle_busvan AND\n        NOT hasvehicle_scooter AND\n        NOT hasvehicle_other\n      )\n    "]),s=a(["\n  SELECT\n      COUNT(c.cartodb_id) as total_crashes,\n      SUM(c.number_of_cyclist_injured) as cyclist_injured,\n      SUM(c.number_of_cyclist_killed) as cyclist_killed,\n      SUM(c.number_of_motorist_injured) as motorist_injured,\n      SUM(c.number_of_motorist_killed) as motorist_killed,\n      SUM(c.number_of_pedestrian_injured) as pedestrian_injured,\n      SUM(c.number_of_pedestrian_killed) as pedestrian_killed,\n      SUM(c.number_of_pedestrian_injured + c.number_of_cyclist_injured + c.number_of_motorist_injured) as persons_injured,\n      SUM(c.number_of_pedestrian_killed + c.number_of_cyclist_killed + c.number_of_motorist_killed) as persons_killed,\n      year || '-' || LPAD(month::text, 2, '0') as year_month\n    FROM\n      crashes_all_prod c\n    WHERE\n      ","\n    GROUP BY year, month\n    ORDER BY year asc, month asc\n  "],["\n  SELECT\n      COUNT(c.cartodb_id) as total_crashes,\n      SUM(c.number_of_cyclist_injured) as cyclist_injured,\n      SUM(c.number_of_cyclist_killed) as cyclist_killed,\n      SUM(c.number_of_motorist_injured) as motorist_injured,\n      SUM(c.number_of_motorist_killed) as motorist_killed,\n      SUM(c.number_of_pedestrian_injured) as pedestrian_injured,\n      SUM(c.number_of_pedestrian_killed) as pedestrian_killed,\n      SUM(c.number_of_pedestrian_injured + c.number_of_cyclist_injured + c.number_of_motorist_injured) as persons_injured,\n      SUM(c.number_of_pedestrian_killed + c.number_of_cyclist_killed + c.number_of_motorist_killed) as persons_killed,\n      year || '-' || LPAD(month::text, 2, '0') as year_month\n    FROM\n      crashes_all_prod c\n    WHERE\n      ","\n    GROUP BY year, month\n    ORDER BY year asc, month asc\n  "]),o=a(["\n    SELECT\n      COUNT(c.cartodb_id) as total_crashes,\n      "," AS ",",\n      SUM(c.number_of_cyclist_injured) as cyclist_injured,\n      SUM(c.number_of_cyclist_killed) as cyclist_killed,\n      SUM(c.number_of_motorist_injured) as motorist_injured,\n      SUM(c.number_of_motorist_killed) as motorist_killed,\n      SUM(c.number_of_pedestrian_injured) as pedestrian_injured,\n      SUM(c.number_of_pedestrian_killed) as pedestrian_killed,\n      SUM(c.number_of_pedestrian_injured + c.number_of_cyclist_injured + c.number_of_motorist_injured) as persons_injured,\n      SUM(c.number_of_pedestrian_killed + c.number_of_cyclist_killed + c.number_of_motorist_killed) as persons_killed,\n      year || '-' || LPAD(month::text, 2, '0') as year_month\n    FROM crashes_all_prod c\n    WHERE\n      the_geom IS NOT NULL\n      AND "," IS NOT NULL AND ","::text != ''\n      AND ","\n      AND ","\n    GROUP BY year_month, ","\n    ORDER BY year_month asc, "," asc\n  "],["\n    SELECT\n      COUNT(c.cartodb_id) as total_crashes,\n      "," AS ",",\n      SUM(c.number_of_cyclist_injured) as cyclist_injured,\n      SUM(c.number_of_cyclist_killed) as cyclist_killed,\n      SUM(c.number_of_motorist_injured) as motorist_injured,\n      SUM(c.number_of_motorist_killed) as motorist_killed,\n      SUM(c.number_of_pedestrian_injured) as pedestrian_injured,\n      SUM(c.number_of_pedestrian_killed) as pedestrian_killed,\n      SUM(c.number_of_pedestrian_injured + c.number_of_cyclist_injured + c.number_of_motorist_injured) as persons_injured,\n      SUM(c.number_of_pedestrian_killed + c.number_of_cyclist_killed + c.number_of_motorist_killed) as persons_killed,\n      year || '-' || LPAD(month::text, 2, '0') as year_month\n    FROM crashes_all_prod c\n    WHERE\n      the_geom IS NOT NULL\n      AND "," IS NOT NULL AND ","::text != ''\n      AND ","\n      AND ","\n    GROUP BY year_month, ","\n    ORDER BY year_month asc, "," asc\n  "]),l=a(["\n    SELECT\n      CONCAT(UPPER(intersections.borough), ', ', intersections.name, '|', intersections.cartodb_id) AS intersection,\n      COUNT(c.cartodb_id) as total_crashes,\n      SUM(c.number_of_cyclist_injured) as cyclist_injured,\n      SUM(c.number_of_cyclist_killed) as cyclist_killed,\n      SUM(c.number_of_motorist_injured) as motorist_injured,\n      SUM(c.number_of_motorist_killed) as motorist_killed,\n      SUM(c.number_of_pedestrian_injured) as pedestrian_injured,\n      SUM(c.number_of_pedestrian_killed) as pedestrian_killed,\n      SUM(c.number_of_pedestrian_injured + c.number_of_cyclist_injured + c.number_of_motorist_injured) as persons_injured,\n      SUM(c.number_of_pedestrian_killed + c.number_of_cyclist_killed + c.number_of_motorist_killed) as persons_killed,\n      c.year || '-' || LPAD(c.month::text, 2, '0') as year_month\n    FROM\n      crashes_all_prod c,\n      (SELECT * FROM nyc_intersections WHERE crashcount IS NOT NULL AND borough != '' ORDER BY crashcount DESC LIMIT ",") intersections\n    WHERE\n      c.the_geom IS NOT NULL AND ST_CONTAINS(intersections.the_geom, c.the_geom)\n      AND ","\n    GROUP BY year_month, intersection\n    ORDER BY year_month asc, intersection asc\n  "],["\n    SELECT\n      CONCAT(UPPER(intersections.borough), ', ', intersections.name, '|', intersections.cartodb_id) AS intersection,\n      COUNT(c.cartodb_id) as total_crashes,\n      SUM(c.number_of_cyclist_injured) as cyclist_injured,\n      SUM(c.number_of_cyclist_killed) as cyclist_killed,\n      SUM(c.number_of_motorist_injured) as motorist_injured,\n      SUM(c.number_of_motorist_killed) as motorist_killed,\n      SUM(c.number_of_pedestrian_injured) as pedestrian_injured,\n      SUM(c.number_of_pedestrian_killed) as pedestrian_killed,\n      SUM(c.number_of_pedestrian_injured + c.number_of_cyclist_injured + c.number_of_motorist_injured) as persons_injured,\n      SUM(c.number_of_pedestrian_killed + c.number_of_cyclist_killed + c.number_of_motorist_killed) as persons_killed,\n      c.year || '-' || LPAD(c.month::text, 2, '0') as year_month\n    FROM\n      crashes_all_prod c,\n      (SELECT * FROM nyc_intersections WHERE crashcount IS NOT NULL AND borough != '' ORDER BY crashcount DESC LIMIT ",") intersections\n    WHERE\n      c.the_geom IS NOT NULL AND ST_CONTAINS(intersections.the_geom, c.the_geom)\n      AND ","\n    GROUP BY year_month, intersection\n    ORDER BY year_month asc, intersection asc\n  "]),u=a(["\n    ST_GEOMFROMTEXT(\n      'POLYGON((","))'\n      , 4326\n    )\n  "],["\n    ST_GEOMFROMTEXT(\n      'POLYGON((","))'\n      , 4326\n    )\n  "]),d=a(["\n    SELECT\n      COUNT(c.cartodb_id) as total_crashes,\n      SUM(c.number_of_cyclist_injured) as cyclist_injured,\n      SUM(c.number_of_cyclist_killed) as cyclist_killed,\n      SUM(c.number_of_motorist_injured) as motorist_injured,\n      SUM(c.number_of_motorist_killed) as motorist_killed,\n      SUM(c.number_of_pedestrian_injured) as pedestrian_injured,\n      SUM(c.number_of_pedestrian_killed) as pedestrian_killed,\n      SUM(c.number_of_pedestrian_injured + c.number_of_cyclist_injured + c.number_of_motorist_injured) as persons_injured,\n      SUM(c.number_of_pedestrian_killed + c.number_of_cyclist_killed + c.number_of_motorist_killed) as persons_killed,\n      year || '-' || LPAD(month::text, 2, '0') as year_month\n    FROM\n      crashes_all_prod c\n    WHERE\n      ST_CONTAINS(",", the_geom)\n      AND ","\n    GROUP BY year, month\n    ORDER BY year asc, month asc\n  "],["\n    SELECT\n      COUNT(c.cartodb_id) as total_crashes,\n      SUM(c.number_of_cyclist_injured) as cyclist_injured,\n      SUM(c.number_of_cyclist_killed) as cyclist_killed,\n      SUM(c.number_of_motorist_injured) as motorist_injured,\n      SUM(c.number_of_motorist_killed) as motorist_killed,\n      SUM(c.number_of_pedestrian_injured) as pedestrian_injured,\n      SUM(c.number_of_pedestrian_killed) as pedestrian_killed,\n      SUM(c.number_of_pedestrian_injured + c.number_of_cyclist_injured + c.number_of_motorist_injured) as persons_injured,\n      SUM(c.number_of_pedestrian_killed + c.number_of_cyclist_killed + c.number_of_motorist_killed) as persons_killed,\n      year || '-' || LPAD(month::text, 2, '0') as year_month\n    FROM\n      crashes_all_prod c\n    WHERE\n      ST_CONTAINS(",", the_geom)\n      AND ","\n    GROUP BY year, month\n    ORDER BY year asc, month asc\n  "]),p=function(e){var t=void 0;switch(e){case"community_board":t="Community Board";break;case"city_council":t="City Council";break;case"assembly":t="Assembly District";break;case"senate":t="Senate District";break;case"nypd_precinct":t="NYPD Precinct";break;default:t=""}var r=void 0;switch(e){case"community_board":case"nypd_precinct":r="CASE WHEN borough != '' THEN CONCAT(borough, ', ', '"+t+"', ' ', "+e+") ELSE CONCAT(' No Borough, ', '"+t+"', ' ', "+e+") END";break;default:r=t?"CONCAT('"+t+"', ' ', "+e+")":e}return r},h=function(e){var t="";switch(e){case"community_board":case"neighborhood":case"nypd_precinct":t="AND borough IS NOT NULL AND borough != ''";break;default:t="TRUE"}return t},m=function(e,t){var r=p(e),a="number"==typeof t?t.toString():t,n="E'"+a.replace("'","''")+"'";switch(e){case"neighborhood":a=n}return"SELECT "+r+" AS areaname FROM crashes_all_prod WHERE "+e+"="+a},_=function(e){if(!e)return"TRUE";var t=e.vehicle,r=[];return t.car&&r.push("hasvehicle_car"),t.truck&&r.push("hasvehicle_truck"),t.motorcycle&&r.push("hasvehicle_motorcycle"),t.bicycle&&r.push("hasvehicle_bicycle"),t.suv&&r.push("hasvehicle_suv"),t.busvan&&r.push("hasvehicle_busvan"),t.scooter&&r.push("hasvehicle_scooter"),t.other&&r.push(i()(c)),r.length?"("+r.join(" OR ")+")":"TRUE"},y=function(e){var t=_(e);return i()(s,t)},f=function(e,t){var r=p(e),a=h(e),n=_(t);return i()(o,r,e,e,e,a,n,r,r)},E=function(e){var t=_(e);return i()(l,500,t)},g=function(e,t){var r=i()(u,e.map(function(e){return[e[0],e[1]].join(" ")}).join(", ")),a=_(t);return i()(d,r,a)};!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(p,"sqlNameField","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/sqlQueries.js"),__REACT_HOT_LOADER__.register(h,"sqlExcludeBorough","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/sqlQueries.js"),__REACT_HOT_LOADER__.register(m,"sqlNameByGeoAndIdentifier","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/sqlQueries.js"),__REACT_HOT_LOADER__.register(_,"vehicleFilterClause","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/sqlQueries.js"),__REACT_HOT_LOADER__.register(y,"sqlCitywide","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/sqlQueries.js"),__REACT_HOT_LOADER__.register(f,"sqlByGeo","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/sqlQueries.js"),__REACT_HOT_LOADER__.register(E,"sqlIntersection","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/sqlQueries.js"),__REACT_HOT_LOADER__.register(g,"sqlCustomGeography","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/sqlQueries.js"))}()},196:function(e,t,r){"use strict";var a=r(24),n=function(e,t){var n=t.secondary,i=t.primary,c=t.response,s=t.entityType,o=t.dispatch,l={};l.key=e,l.values=c.filter(function(t){return t[s]===e}),i.key||e===n.key||o(r.i(a.selectPrimaryEntity)(l)),i.key&&e===i.key&&o(r.i(a.deselectPrimaryEntity)()),i.key&&!n.key&&e!==i.key&&o(r.i(a.selectSecondaryEntity)(l)),n.key&&e===n.key&&o(r.i(a.deselectSecondaryEntity)())},i=n;t.a=i,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(n,"toggleEntity","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/toggleEntity.js"),__REACT_HOT_LOADER__.register(i,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/toggleEntity.js"))}()},197:function(e,t,r){"use strict";var a=r(1),n=r.n(a),i=r(3),c=r.n(i),s=r(88),o=r.n(s),l=function(e){function t(){l?s||c(i):c(i)}var r=e.label,a=e.btnSize,i=e.id,c=e.handleClick,s=e.isActive,l=e.preventRetrigger,u=o()(a,{"filter-options-button":!0,"roboto-medium":!0,active:s});return n.a.createElement("button",{className:u,onClick:function(){return t()}},r)};l.defaultProps={btnSize:"wide",isActive:!1,preventRetrigger:!1},l.propTypes={btnSize:c.a.string,label:c.a.string.isRequired,handleClick:c.a.func.isRequired,id:c.a.string.isRequired,isActive:c.a.bool,preventRetrigger:c.a.bool};var u=l;t.a=u,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(l,"FilterButton","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/FilterButton.jsx"),__REACT_HOT_LOADER__.register(u,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/FilterButton.jsx"))}()},198:function(e,t,r){"use strict";r.d(t,"a",function(){return s});var a=r(20),n=r(87),i=r.n(n),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},s={primary:{color:i.a["primary-color"],key:null,values:[]},secondary:{color:i.a["secondary-color"],key:null,values:[]},entityType:"city_council",filterTerm:"",reference:"citywide",sortRank:!0,sortName:!1,sortAsc:!1},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case a.k:return c({},s,{reference:e.reference,entityType:t.entityType});case a.l:return c({},e,{primary:c({color:e.primary.color},t.entity)});case a.m:return c({},e,{primary:{color:e.primary.color,key:"",values:[]}});case a.n:return c({},e,{secondary:c({color:e.secondary.color},t.entity)});case a.o:return c({},e,{secondary:{color:e.secondary.color,key:t.key,values:[]}});case a.p:return c({},e,{reference:t.key});case a.r:return c({},e,{sortRank:!0,sortName:!1,sortAsc:!e.sortAsc});case a.q:return c({},e,{sortRank:!1,sortName:!0,sortAsc:!e.sortAsc});case a.s:return c({},e,{filterTerm:t.term});default:return e}};t.b=o,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(s,"entitiesInitalState","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/reducers/entitiesReducer.js"),__REACT_HOT_LOADER__.register(o,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/reducers/entitiesReducer.js"))}()},20:function(e,t,r){"use strict";r.d(t,"k",function(){return a}),r.d(t,"B",function(){return n}),r.d(t,"C",function(){return i}),r.d(t,"D",function(){return c}),r.d(t,"t",function(){return s}),r.d(t,"u",function(){return o}),r.d(t,"v",function(){return l}),r.d(t,"w",function(){return u}),r.d(t,"x",function(){return d}),r.d(t,"y",function(){return p}),r.d(t,"z",function(){return h}),r.d(t,"A",function(){return m}),r.d(t,"l",function(){return _}),r.d(t,"m",function(){return y}),r.d(t,"n",function(){return f}),r.d(t,"o",function(){return E}),r.d(t,"i",function(){return g}),r.d(t,"j",function(){return T}),r.d(t,"e",function(){return v}),r.d(t,"f",function(){return R}),r.d(t,"h",function(){return A}),r.d(t,"g",function(){return O}),r.d(t,"p",function(){return b}),r.d(t,"c",function(){return D}),r.d(t,"d",function(){return C}),r.d(t,"q",function(){return w}),r.d(t,"r",function(){return k}),r.d(t,"s",function(){return j}),r.d(t,"a",function(){return L}),r.d(t,"b",function(){return N});var a="SET_ENTITY_TYPE",n="FILTER_BY_TYPE_INJURY",i="FILTER_BY_TYPE_FATALITY",c="FILTER_BY_NO_INJURY_FATALITY",s="FILTER_BY_VEHICLE_CAR",o="FILTER_BY_VEHICLE_TRUCK",l="FILTER_BY_VEHICLE_MOTORCYCLE",u="FILTER_BY_VEHICLE_BICYCLE",d="FILTER_BY_VEHICLE_SUV",p="FILTER_BY_VEHICLE_BUSVAN",h="FILTER_BY_VEHICLE_SCOOTER",m="FILTER_BY_VEHICLE_OTHER",_="SELECT_PRIMARY_ENTITY",y="DESELECT_PRIMARY_ENTITY",f="SELECT_SECONDARY_ENTITY",E="DESELECT_SECONDARY_ENTITY",g="SET_DATE_RANGE_GROUP_ONE",T="SET_DATE_RANGE_GROUP_TWO",v="ENTITY_DATA_REQUEST",R="ENTITY_DATA_SUCCESS",A="ENTITY_DATA_ERROR",O="CLEAR_ENTITIES_DATA_CACHE",b="REFERENCE_ENTITY_SELECT",D="CHART_VIEW_TOGGLE",C="TREND_AGGREGATION_CHANGED",w="ENTITIES_SORT_NAME",k="ENTITIES_SORT_RANK",j="ENTITIES_FILTER_NAME",L="CLEAR_CUSTOM_GEOGRAPHY",N="CHANGE_CUSTOM_GEOGRAPHY";!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(a,"SET_ENTITY_TYPE","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/actionTypes.js"),__REACT_HOT_LOADER__.register(n,"FILTER_BY_TYPE_INJURY","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/actionTypes.js"),__REACT_HOT_LOADER__.register(i,"FILTER_BY_TYPE_FATALITY","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/actionTypes.js"),__REACT_HOT_LOADER__.register(c,"FILTER_BY_NO_INJURY_FATALITY","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/actionTypes.js"),__REACT_HOT_LOADER__.register(s,"FILTER_BY_VEHICLE_CAR","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/actionTypes.js"),__REACT_HOT_LOADER__.register(o,"FILTER_BY_VEHICLE_TRUCK","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/actionTypes.js"),__REACT_HOT_LOADER__.register(l,"FILTER_BY_VEHICLE_MOTORCYCLE","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/actionTypes.js"),__REACT_HOT_LOADER__.register(u,"FILTER_BY_VEHICLE_BICYCLE","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/actionTypes.js"),__REACT_HOT_LOADER__.register(d,"FILTER_BY_VEHICLE_SUV","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/actionTypes.js"),__REACT_HOT_LOADER__.register(p,"FILTER_BY_VEHICLE_BUSVAN","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/actionTypes.js"),__REACT_HOT_LOADER__.register(h,"FILTER_BY_VEHICLE_SCOOTER","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/actionTypes.js"),__REACT_HOT_LOADER__.register(m,"FILTER_BY_VEHICLE_OTHER","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/actionTypes.js"),__REACT_HOT_LOADER__.register(_,"SELECT_PRIMARY_ENTITY","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/actionTypes.js"),__REACT_HOT_LOADER__.register(y,"DESELECT_PRIMARY_ENTITY","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/actionTypes.js"),__REACT_HOT_LOADER__.register(f,"SELECT_SECONDARY_ENTITY","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/actionTypes.js"),__REACT_HOT_LOADER__.register(E,"DESELECT_SECONDARY_ENTITY","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/actionTypes.js"),__REACT_HOT_LOADER__.register(g,"SET_DATE_RANGE_GROUP_ONE","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/actionTypes.js"),__REACT_HOT_LOADER__.register(T,"SET_DATE_RANGE_GROUP_TWO","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/actionTypes.js"),__REACT_HOT_LOADER__.register(v,"ENTITY_DATA_REQUEST","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/actionTypes.js"),__REACT_HOT_LOADER__.register(R,"ENTITY_DATA_SUCCESS","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/actionTypes.js"),__REACT_HOT_LOADER__.register(A,"ENTITY_DATA_ERROR","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/actionTypes.js"),__REACT_HOT_LOADER__.register(O,"CLEAR_ENTITIES_DATA_CACHE","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/actionTypes.js"),__REACT_HOT_LOADER__.register(b,"REFERENCE_ENTITY_SELECT","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/actionTypes.js"),__REACT_HOT_LOADER__.register(D,"CHART_VIEW_TOGGLE","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/actionTypes.js"),__REACT_HOT_LOADER__.register(C,"TREND_AGGREGATION_CHANGED","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/actionTypes.js"),__REACT_HOT_LOADER__.register(w,"ENTITIES_SORT_NAME","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/actionTypes.js"),__REACT_HOT_LOADER__.register(k,"ENTITIES_SORT_RANK","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/actionTypes.js"),__REACT_HOT_LOADER__.register(j,"ENTITIES_FILTER_NAME","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/actionTypes.js"),__REACT_HOT_LOADER__.register(L,"CLEAR_CUSTOM_GEOGRAPHY","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/actionTypes.js"),__REACT_HOT_LOADER__.register(N,"CHANGE_CUSTOM_GEOGRAPHY","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/actionTypes.js"))}()},22:function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"c",function(){return i}),r.d(t,"b",function(){return c}),r.d(t,"d",function(){return s}),r.d(t,"e",function(){return l}),r.d(t,"f",function(){return u});var a=r(45),n=(r.n(a),a.timeParse("%Y-%m")),i=a.timeFormat("%b %Y"),c=a.timeFormat("%Y-%m"),s=a.format(","),o=a.timeFormat("%Y"),l=a.timeFormat("%m"),u=function(e,t){var r=12*parseInt(o(e),10)+parseInt(l(e),10),a=12*parseInt(o(t),10)+parseInt(l(t),10);return Math.abs(a-r)};!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(n,"parseDate","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/d3Utils.js"),__REACT_HOT_LOADER__.register(i,"formatDate","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/d3Utils.js"),__REACT_HOT_LOADER__.register(c,"formatDateYM","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/d3Utils.js"),__REACT_HOT_LOADER__.register(s,"formatNumber","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/d3Utils.js"),__REACT_HOT_LOADER__.register(o,"formatDateYear","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/d3Utils.js"),__REACT_HOT_LOADER__.register(l,"formatDateMonth","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/d3Utils.js"),__REACT_HOT_LOADER__.register(u,"findDateDiffInMonths","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/d3Utils.js"))}()},24:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(349);r.d(t,"filterByTypeInjury",function(){return a.a}),r.d(t,"filterByTypeFatality",function(){return a.b}),r.d(t,"filterByNoInjFat",function(){return a.c});var n=r(350);r.d(t,"filterByVehicle",function(){return n.a});var i=r(348);r.d(t,"setEntityType",function(){return i.a}),r.d(t,"selectPrimaryEntity",function(){return i.b}),r.d(t,"deselectPrimaryEntity",function(){return i.c}),r.d(t,"selectSecondaryEntity",function(){return i.d}),r.d(t,"deselectSecondaryEntity",function(){return i.e}),r.d(t,"setReferenceEntity",function(){return i.f}),r.d(t,"sortEntitiesByName",function(){return i.g}),r.d(t,"sortEntitiesByRank",function(){return i.h}),r.d(t,"filterEntitiesByName",function(){return i.i});var c=r(347);r.d(t,"setDateRangeGroupOne",function(){return c.a}),r.d(t,"setDateRangeGroupTwo",function(){return c.b});var s=r(345);r.d(t,"clearEntitiesDataCache",function(){return s.a}),r.d(t,"fetchEntityData",function(){return s.b});var o=r(346);r.d(t,"toggleChartView",function(){return o.a}),r.d(t,"setTrendAggregation",function(){return o.b});var l=r(194);r.d(t,"clearCustomGeography",function(){return l.default})},320:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),n=r.n(a),i=r(761),c=(r.n(i),r(825)),s=(r.n(c),r(604)),o=(r.n(s),r(344)),l=function(e){r.i(i.render)(n.a.createElement(c.AppContainer,null,n.a.createElement(e,null)),document.getElementById("root"))};l(o.a),function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(l,"renderApp","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/index.js")}()},339:function(e,t,r){"use strict";var a=r(1),n=r.n(a),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},c=function(e){return n.a.createElement("svg",i({width:"1em",height:"1em",viewBox:"0 0 350 350"},e),n.a.createElement("g",{transform:"translate(-189.14908,-284.64169)"},n.a.createElement("circle",{style:{opacity:1,fill:"#ffffff",fillOpacity:1,stroke:"none",strokeWidth:11.15537834,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:4,strokeDasharray:"none",strokeDashoffset:0,strokeOpacity:1},cx:364.14908,cy:459.64169,r:175}),n.a.createElement("path",{style:{fill:"#717171",fillOpacity:1},d:"m 270.19428,562.33299 c -14.8342,-3.72588 -31.54233,-17.33748 -37.91005,-30.88419 -9.89947,-21.06027 -6.10534,-46.47575 9.45876,-63.3608 15.29974,-16.59826 36.24157,-22.43521 58.86479,-16.40692 7.8876,2.10168 9.097,2.14096 10.11132,0.32851 7.91884,-14.15021 13.95003,-19.00947 18.70051,-15.06697 3.23308,2.68321 2.31206,7.84703 -2.83461,15.89259 -5.62968,8.80055 -5.83605,10.2962 -1.90847,13.8314 9.31398,8.38366 16.39159,25.47186 16.39159,39.57605 0,22.67102 -12.80818,42.40138 -33.94683,52.29338 -7.14367,3.34287 -11.18396,4.27255 -20.24823,4.6591 -6.22809,0.26549 -13.73355,-0.12238 -16.67878,-0.86215 z m 33.16869,-16.60179 c 24.68867,-11.84085 32.1025,-41.84744 16.07389,-65.0574 -1.96467,-2.84487 -4.32502,-5.17254 -5.24521,-5.17254 -0.9202,0 -6.41618,7.65724 -12.21329,17.01615 -12.61917,20.37226 -14.77059,22.64674 -19.41834,20.52917 -6.71906,-3.06148 -5.94569,-6.09461 6.81135,-26.71371 7.11148,-11.49436 11.47921,-19.87592 10.74178,-20.61337 -0.68351,-0.68349 -4.83309,-1.90648 -9.22128,-2.71764 -9.71985,-1.79679 -18.94909,-0.12293 -28.75824,5.21591 -29.73101,16.1817 -29.62762,60.51218 0.17898,76.73493 13.56033,7.38048 26.76281,7.63086 41.05036,0.7785 z m 130.94098,16.59021 c -16.46847,-2.75869 -34.53897,-16.6829 -41.51265,-31.98756 -7.11825,-15.6219 -7.00233,-34.13988 0.30873,-49.31521 4.77832,-9.91815 16.90946,-21.92011 27.28041,-26.98969 7.69501,-3.76153 9.39179,-4.04557 24.16754,-4.04557 15.12487,0 16.32852,0.21518 24.9516,4.46036 22.24568,10.95145 35.49865,35.96316 31.66601,59.76171 -3.84999,23.90625 -22.99295,43.82167 -46.21003,48.07458 -9.10459,1.6679 -10.92009,1.67154 -20.65161,0.0408 z m 26.32783,-15.30632 c 5.38152,-2.01351 10.2192,-5.24978 15.0124,-10.04295 21.39079,-21.39088 15.52016,-57.4262 -11.5186,-70.70399 -6.77186,-3.32533 -9.53374,-3.86857 -19.60661,-3.85577 -10.8333,0.0143 -12.40588,0.38898 -20.69017,4.9364 -23.73362,13.02797 -30.49505,41.74261 -15.09893,64.12264 11.131,16.18027 32.83102,22.67897 51.90192,15.54367 z M 356.55673,528.37253 c -5.05527,-2.03392 -5.83319,-7.76339 -5.83319,-42.96129 0,-40.84162 -1.14676,-37.95592 19.24555,-48.43066 7.55143,-3.87894 14.10626,-7.66166 14.56629,-8.40595 0.96462,-1.56076 -25.69562,-27.62198 -27.2648,-26.65214 -0.57225,0.35366 -4.21124,5.58602 -8.08664,11.62743 -3.87539,6.04131 -8.17709,11.58959 -9.55933,12.32936 -1.38223,0.73966 -12.96785,1.34492 -25.74579,1.34492 -25.88646,0 -29.36382,-0.964 -29.36382,-8.14045 0,-7.39958 2.96386,-8.41169 24.63366,-8.41169 l 19.58875,0 13.05343,-20.0155 c 13.47743,-20.66561 18.37517,-25.48762 25.89817,-25.49767 2.12393,-0.003 5.53781,0.87791 7.58639,1.9572 2.04859,1.07929 14.98485,13.33823 28.74728,27.24207 26.69123,26.96553 28.43734,29.63815 25.39202,38.86552 -2.1266,6.44364 -5.13623,8.82075 -25.58639,20.20862 -9.86232,5.49188 -20.25914,11.47151 -23.10403,13.28805 l -5.17254,3.3027 0,25.39253 c 0,25.30534 -0.0124,25.40697 -3.57097,29.63626 -2.84166,3.37719 -4.60236,4.22168 -8.62091,4.13495 -2.77746,-0.0596 -5.83887,-0.42627 -6.80313,-0.81426 z M 324.84821,372.05791 c -7.37493,-4.49654 -10.22647,-10.38459 -9.6168,-19.8573 0.47722,-7.41481 1.00713,-8.57705 6.05916,-13.28953 13.0382,-12.1619 32.43429,-5.6476 35.77264,12.01447 1.22024,6.45583 -1.63313,13.39357 -7.79994,18.96491 -4.78663,4.32444 -6.31882,4.91807 -12.68199,4.91353 -4.78678,-0.003 -8.75986,-0.9333 -11.73307,-2.74608 z"})))},s=c;t.a=s,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(c,"SvgComponent","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/assets/icons/bicycling.svg"),__REACT_HOT_LOADER__.register(s,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/assets/icons/bicycling.svg"))}()},340:function(e,t,r){"use strict";var a=r(1),n=r.n(a),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},c=function(e){return n.a.createElement("svg",i({width:"1em",height:"1em",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",className:"lds-ring",style:{background:"none"}},e),n.a.createElement("circle",{cx:50,cy:50,fill:"none",r:40,stroke:"rgba(19.6078431372549%,62.74509803921562%,85.49019607843138%,0)",strokeWidth:15}),n.a.createElement("circle",{cx:50,cy:50,fill:"none",r:40,stroke:"#fecc5c",strokeWidth:15,strokeLinecap:"square",transform:"rotate(14.9821 50 50)"},n.a.createElement("animateTransform",{attributeName:"transform",type:"rotate",calcMode:"linear",values:"0 50 50;180 50 50;720 50 50",keyTimes:"0;0.5;1",dur:"1.4s",begin:"0s",repeatCount:"indefinite"}),n.a.createElement("animate",{attributeName:"stroke-dasharray",calcMode:"linear",values:"25.132741228718345 226.1946710584651;125.66370614359172 125.66370614359172;25.132741228718345 226.1946710584651",keyTimes:"0;0.5;1",dur:1.4,begin:"0s",repeatCount:"indefinite"})))},s=c;t.a=s,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(c,"SvgComponent","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/assets/icons/loading.svg"),__REACT_HOT_LOADER__.register(s,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/assets/icons/loading.svg"))}()},341:function(e,t,r){"use strict";var a=r(1),n=r.n(a),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},c=function(e){return n.a.createElement("svg",i({width:"1em",height:"1em",viewBox:"0 0 350 350"},e),n.a.createElement("g",{transform:"translate(-189.14908,-284.64169)"},n.a.createElement("circle",{style:{opacity:1,fill:"#ffffff",fillOpacity:1,stroke:"none",strokeWidth:11.15537834,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:4,strokeDasharray:"none",strokeDashoffset:0,strokeOpacity:1},cx:364.14908,cy:459.64169,r:175}),n.a.createElement("path",{style:{fill:"#717171",fillOpacity:1},d:"m 250.01316,567.87979 c -4.58118,-0.95004 -6.3394,-4.01729 -8.00307,-13.96158 -0.45785,-2.73666 -0.53246,-19.77656 -0.21865,-49.93842 l 0.47634,-45.78429 -3.69954,-1.07549 c -2.03475,-0.59151 -5.28652,-1.44179 -7.22618,-1.88953 l -3.52665,-0.81404 0,-3.82259 c 0,-2.94298 0.53254,-4.93379 2.31431,-8.65174 4.01383,-8.37543 8.66093,-11.76499 16.62414,-12.1255 5.86157,-0.26539 6.65834,-0.63854 8.65325,-4.05261 2.18758,-3.74383 9.84446,-24.53436 12.9652,-35.20414 1.37104,-4.68749 3.24459,-10.36362 4.16347,-12.61361 4.82592,-11.81689 15.99372,-20.90559 30.62038,-24.91984 13.72765,-3.7675 36.82499,-6.8465 54.56889,-7.27431 18.59509,-0.44833 26.6216,0.29243 46.2592,4.26922 27.19877,5.508 32.94413,7.36067 38.69603,12.47803 5.02274,4.46865 7.13784,8.55342 13.18859,25.47028 12.76126,35.67832 13.44429,37.35867 16.25119,39.9804 1.39491,1.3029 2.57533,1.62884 6.44908,1.78074 8.24251,0.32323 13.53446,4.15616 17.49985,12.67507 1.24798,2.68109 1.73441,4.87187 1.73922,7.83309 l 0.007,4.11099 -7.32953,1.94237 c -4.03124,1.0683 -7.55927,2.1481 -7.84007,2.39954 -0.2808,0.25144 -0.0374,3.86134 0.54115,8.02201 0.87387,6.28571 1.01784,14.5809 0.85145,49.05754 l -0.2004,41.49269 -1.70465,4.08177 c -1.1963,2.8645 -2.26919,4.35234 -3.59762,4.98903 -2.65253,1.27133 -22.51564,2.17585 -32.88054,1.4973 -13.20695,-0.86462 -14.63183,-2.53708 -15.39341,-18.06808 -0.25744,-5.24999 -0.50411,-9.62367 -0.54814,-9.71928 -0.044,-0.0956 -29.76469,-0.0956 -66.04586,0 l -65.96577,0.17384 -2.22541,10.87607 c -2.5734,12.57661 -3.72201,15.39113 -6.63821,16.26582 -2.67886,0.8035 -35.34734,1.24042 -38.82485,0.51925 z m 50.84382,-68.96867 c 3.45319,-0.88219 8.37001,-6.22548 7.65631,-8.32039 -0.28262,-0.82958 -0.43842,-2.84676 -0.34623,-4.48259 0.19693,-3.49407 -1.01296,-9.87582 -2.37563,-12.53066 -1.96688,-3.83202 -2.39688,-3.90718 -24.45616,-4.27491 -22.75529,-0.37933 -22.11122,-0.49275 -25.22679,4.44263 -1.56951,2.48626 -1.70221,3.33123 -1.70221,10.8387 l 0,8.14222 2.72209,2.33002 c 1.49716,1.28152 4.02841,2.72333 5.62499,3.20405 6.06096,1.82489 31.788,2.26439 38.10363,0.65093 z m 153.32161,0.0152 c 11.05901,-0.87809 13.32438,-1.76495 15.56603,-6.09391 1.4445,-2.78954 1.56088,-3.72134 1.28166,-10.26046 -0.32923,-7.71008 -1.35185,-10.83091 -4.07781,-12.44454 -1.21224,-0.71759 -6.05233,-0.8224 -23.91101,-0.51778 l -22.3911,0.38192 -1.28505,1.58864 c -2.00164,2.47457 -2.67472,5.97954 -2.67884,13.94985 -0.005,11.04909 2.25982,14.64284 8.79796,13.9559 1.72152,-0.18087 5.73798,-0.10567 8.92547,0.16712 3.18749,0.27278 6.86931,0.38531 8.18181,0.25004 1.3125,-0.13527 6.52839,-0.57483 11.59088,-0.97678 z m -55.56808,-56.921 c 14.60734,-1.28835 29.13308,-3.28064 41.85506,-5.74068 5.7703,-1.1158 10.59888,-2.13616 10.73019,-2.26745 0.13129,-0.13129 -1.45196,-5.27944 -3.51835,-11.4403 -2.06637,-6.16088 -5.46925,-16.87748 -7.56193,-23.81469 -2.09268,-6.9372 -4.27163,-13.53378 -4.84213,-14.65906 -2.16998,-4.28023 -5.69272,-7.78183 -9.92485,-9.8653 -3.77381,-1.85784 -5.27793,-2.16343 -13.44806,-2.73234 -13.77153,-0.95893 -50.37258,-2.06974 -71.58526,-2.17255 -16.82204,-0.0815 -19.50576,0.0626 -26.10039,1.40214 -18.03342,3.66295 -20.07922,5.13499 -24.73696,17.79935 -5.85703,15.92524 -16.02698,45.18089 -15.78875,45.41912 0.13046,0.13047 2.67189,0.70846 5.64762,1.28444 5.089,0.98503 5.45092,0.97567 6.09224,-0.15776 1.13276,-2.00195 5.69996,-6.23422 8.02517,-7.43663 1.20153,-0.62134 4.71207,-1.38588 7.80121,-1.699 l 5.61663,-0.56929 4.19747,2.46007 c 8.11596,4.75663 21.41805,4.77386 29.72487,0.0385 4.20851,-2.39911 4.25668,-2.40832 9.89599,-1.89433 5.0194,0.4575 8.3516,1.4253 9.3976,2.72943 0.18749,0.23378 1.18465,0.96197 2.21589,1.61818 1.03125,0.65625 1.875,1.64631 1.875,2.20017 0,0.55385 0.26904,1.00701 0.59786,1.00701 0.87211,0 3.49304,6.4193 3.49304,8.55531 l 0,1.82525 9.7159,-0.4637 c 5.34373,-0.25505 14.62496,-0.8967 20.62494,-1.42589 z M 322.92886,425.5422 c -1.125,-0.15493 -4.08885,-1.07016 -6.58633,-2.03383 -5.81294,-2.24301 -10.59256,-6.71134 -13.37091,-12.50016 -1.92741,-4.0158 -2.04743,-4.72912 -1.88042,-11.17577 0.18445,-7.11959 0.6666,-8.82537 3.87361,-13.70435 5.69808,-8.66875 16.47125,-12.94542 26.792,-10.63574 4.80359,1.075 11.2236,5.43571 14.61418,9.92648 2.96593,3.92836 4.84618,9.79177 4.8189,15.02741 -0.0199,3.81518 -1.66936,10.31162 -3.15207,12.41434 -0.68496,0.97137 -1.7056,2.45583 -2.2681,3.29876 -3.83212,5.74272 -15.24112,10.42946 -22.84086,9.38286 z"})))},s=c;t.a=s,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(c,"SvgComponent","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/assets/icons/motorist.svg"),__REACT_HOT_LOADER__.register(s,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/assets/icons/motorist.svg"))}()},342:function(e,t,r){"use strict";var a=r(1),n=r.n(a),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},c=function(e){return n.a.createElement("svg",i({width:"1em",height:"1em",viewBox:"0 0 350 350"},e),n.a.createElement("g",{transform:"translate(-189.14908,-284.64169)"},n.a.createElement("circle",{style:{opacity:1,fill:"#ffffff",fillOpacity:1,stroke:"none",strokeWidth:11.15537834,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:4,strokeDasharray:"none",strokeDashoffset:0,strokeOpacity:1},cx:364.14908,cy:459.64169,r:175}),n.a.createElement("path",{style:{fill:"#717171",fillOpacity:1},d:"m 291.95595,589.21183 c -1.17762,-0.52925 -3.449,-0.99615 -5.0475,-1.03753 -3.90254,-0.10104 -5.12283,-2.76563 -5.12283,-11.18615 l 0,-6.96941 19.04866,-30.89497 19.04866,-30.89497 2.90523,-21.02255 c 1.59787,-11.56238 5.06181,-30.53388 7.69765,-42.15887 2.63583,-11.62499 4.588,-21.34077 4.33814,-21.59062 -0.24985,-0.24985 -2.5218,0.68623 -5.04878,2.08019 -4.05915,2.23915 -5.67916,4.45863 -13.90333,19.04798 -11.17957,19.8321 -13.17651,22.16371 -19.83783,23.16265 -5.75798,0.86345 -12.08192,-0.45653 -13.23708,-2.76299 -2.01167,-4.01652 -3.36177,-10.7787 -2.80788,-14.06355 1.90831,-11.31711 3.1216,-14.44574 10.92404,-28.16929 12.69781,-22.33392 8.87411,-19.36055 43.64802,-33.94131 l 18.00926,-7.5513 12.51519,0.41446 c 8.75686,0.29 13.4797,0.92896 15.7269,2.12773 1.76642,0.94231 9.0109,8.86675 16.09882,17.60988 l 12.88716,15.89661 15.4827,5.62812 c 26.62276,9.67762 24.26769,8.46528 25.10128,12.92173 1.70669,9.12424 0.45464,20.11038 -2.553,22.40138 -0.94203,0.71755 -4.60854,1.31996 -8.14781,1.3387 -5.32164,0.0282 -9.76473,-1.18789 -25.67951,-7.02831 -23.64322,-8.67658 -23.85151,-8.78403 -28.84246,-14.8748 -2.22826,-2.71931 -4.24745,-4.74815 -4.48708,-4.50854 -0.8078,0.80781 -6.89549,26.86489 -6.58801,28.19863 0.1675,0.72654 9.68455,8.21695 21.14901,16.64537 11.46445,8.42839 21.46233,16.52873 22.21752,18.00075 1.06316,2.07234 1.31189,12.27437 1.10203,45.20243 -0.26086,40.93051 -0.35136,42.60411 -2.41215,44.60731 -2.16221,2.10178 -6.65958,2.70234 -17.94763,2.39661 -4.54032,-0.12296 -5.33403,-0.52052 -7.22228,-3.61747 -1.99421,-3.27076 -2.12523,-5.53289 -2.18562,-37.73726 l -0.0642,-34.25794 -16.46619,-11.77616 c -9.0564,-6.47688 -16.85747,-11.77617 -17.33572,-11.77617 -0.47824,0 -1.86444,7.24821 -3.08044,16.10712 -1.21601,8.8589 -2.61754,16.80781 -3.11453,17.66425 -0.49699,0.85643 -9.74993,15.82721 -20.5621,33.26843 -19.26999,31.08457 -19.7374,31.72467 -23.65016,32.38838 -9.15255,1.55254 -10.51312,1.62963 -12.55612,0.71145 z m 70.48543,-210.33766 c -9.77271,-3.05638 -16.09246,-10.89978 -17.16639,-21.3051 -1.36151,-13.19173 5.30225,-22.50179 14.35434,-25.87721 2.881,-1.0743 7.00696,-1.84568 10.84074,-1.88386 4.38956,-0.0438 8.98607,0.86109 11.94824,1.85696 8.88964,2.9887 14.93136,9.9784 14.95388,21.98133 0.0359,19.17288 -16.38065,31.02936 -34.93081,25.22786 z"})))},s=c;t.a=s,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(c,"SvgComponent","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/assets/icons/pedestrian.svg"),__REACT_HOT_LOADER__.register(s,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/assets/icons/pedestrian.svg"))}()},343:function(e,t,r){"use strict";var a=r(1),n=r.n(a),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},c=function(e){return n.a.createElement("svg",i({width:"1em",height:"1em",viewBox:"0 0 230 90",version:1.1,xmlnsXlink:"http://www.w3.org/1999/xlink"},e),n.a.createElement("g",{id:"Logo-Negative",transform:"translate(-285.000000, -255.000000)",fill:"#FFFFFF"},n.a.createElement("g",{id:"logo_carto_n_90",transform:"translate(285.000000, 255.000000)"},n.a.createElement("circle",{id:"Halo",fillOpacity:.2,cx:185,cy:45,r:45}),n.a.createElement("path",{d:"M14.801,59.9540049 C21.115,59.9540049 24.764,57.2070049 27.47,53.4760049 L21.484,49.2120049 C19.762,51.3030049 17.999,52.6970049 15.006,52.6970049 C10.988,52.6970049 8.159,49.3350049 8.159,45.0300049 L8.159,44.9480049 C8.159,40.7660049 10.988,37.3220049 15.006,37.3220049 C17.753,37.3220049 19.639,38.6750049 21.279,40.6840049 L27.265,36.0510049 C24.723,32.5660049 20.951,30.1060049 15.088,30.1060049 C6.396,30.1060049 0,36.6660049 0,45.0300049 L0,45.1120049 C0,53.6810049 6.601,59.9540049 14.801,59.9540049 L14.801,59.9540049 Z M41.0119876,59.3800049 L49.3349876,59.3800049 L51.3849876,54.2140049 L62.4959876,54.2140049 L64.5459876,59.3800049 L73.0739876,59.3800049 L60.8559876,30.4750049 L53.1889876,30.4750049 L41.0119876,59.3800049 Z M53.7219876,48.0230049 L56.9609876,39.9050049 L60.1589876,48.0230049 L53.7219876,48.0230049 Z M88.5619874,59.3800049 L96.5159874,59.3800049 L96.5159874,50.6880049 L100.041987,50.6880049 L105.822987,59.3800049 L114.965987,59.3800049 L108.118987,49.3760049 C111.685987,47.8590049 114.022987,44.9480049 114.022987,40.5200049 L114.022987,40.4380049 C114.022987,37.6090049 113.161987,35.4360049 111.480987,33.7550049 C109.553987,31.8280049 106.519987,30.6800049 102.132987,30.6800049 L88.5619874,30.6800049 L88.5619874,59.3800049 Z M96.5159874,44.4560049 L96.5159874,37.5270049 L101.763987,37.5270049 C104.387987,37.5270049 106.068987,38.6750049 106.068987,40.9710049 L106.068987,41.0530049 C106.068987,43.1440049 104.469987,44.4560049 101.804987,44.4560049 L96.5159874,44.4560049 Z M137.751987,59.3800049 L145.705987,59.3800049 L145.705987,37.6500049 L154.315987,37.6500049 L154.315987,30.6800049 L129.182987,30.6800049 L129.182987,37.6500049 L137.751987,37.6500049 L137.751987,59.3800049 Z M185,60 C193.284271,60 200,53.2842712 200,45 C200,36.7157288 193.284271,30 185,30 C176.715729,30 170,36.7157288 170,45 C170,53.2842712 176.715729,60 185,60 Z",id:"Logotype"}))))},s=c;t.a=s,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(c,"SvgComponent","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/assets/logos/carto_negative.svg"),__REACT_HOT_LOADER__.register(s,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/assets/logos/carto_negative.svg"))}()},344:function(e,t,r){"use strict";var a=r(1),n=r.n(a),i=r(19),c=r(401),s=r(378),o=function(){return n.a.createElement(i.a,{store:c.a},n.a.createElement(s.a,null))},l=o;t.a=l,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"ReduxEntry","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/ReduxEntry.js"),__REACT_HOT_LOADER__.register(l,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/ReduxEntry.js"))}()},345:function(e,t,r){"use strict";function a(e,t,a){var n="";switch(e){case"citywide":n=r.i(c.a)(t);break;case"custom":n=r.i(c.b)(a,t);break;case"intersection":n=r.i(c.c)(t,a);break;default:n=r.i(c.d)(e,t)}return function(t){return t(d(e)),i()({method:"get",params:{q:n}}).then(function(a){if(!a||!a.data||!a.data.rows){var n=Error({message:"There was a problem loading data"});t(h(l.h,n))}var i=a.data.rows;i.forEach(function(e){e.year_month=r.i(o.a)(e.year_month)}),t(p(e,i))}).catch(function(e){return t(h(l.h,e))})}}r.d(t,"a",function(){return m}),t.b=a;var n=r(188),i=r.n(n),c=r(195),s=r(351),o=r(22),l=r(20),u="https://"+s.a+".carto.com/api/v2/sql";i.a.defaults.baseURL=u,i.a.defaults.validateStatus=function(e){return e<400};var d=function(e){return{type:l.e,entityType:e}},p=function(e,t){return{type:l.f,geo:e,response:t}},h=function(e,t){var r="Something went wrong";return r=t.response?t.response.statusText:t.request?t.request:t.message,{type:e,error:r}},m=function(){return{type:l.g}};!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(u,"url","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/actions/asyncActions.js"),__REACT_HOT_LOADER__.register(d,"requestEntityData","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/actions/asyncActions.js"),__REACT_HOT_LOADER__.register(p,"receiveEntityData","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/actions/asyncActions.js"),__REACT_HOT_LOADER__.register(h,"handleError","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/actions/asyncActions.js"),__REACT_HOT_LOADER__.register(m,"clearEntitiesDataCache","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/actions/asyncActions.js"),__REACT_HOT_LOADER__.register(a,"fetchEntityData","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/actions/asyncActions.js"))}()},346:function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"b",function(){return i});var a=r(20),n=function(e){return{type:a.c,view:e}},i=function(e){return{type:a.d,trendAggMonths:e}};!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(n,"toggleChartView","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/actions/chartViewActions.js"),__REACT_HOT_LOADER__.register(i,"setTrendAggregation","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/actions/chartViewActions.js"))}()},347:function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"b",function(){return i});var a=r(20),n=function(e){return{type:a.i,dates:e}},i=function(e){return{type:a.j,dates:e}};!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(n,"setDateRangeGroupOne","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/actions/dateRangeActions.js"),__REACT_HOT_LOADER__.register(i,"setDateRangeGroupTwo","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/actions/dateRangeActions.js"))}()},348:function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"b",function(){return i}),r.d(t,"c",function(){return c}),r.d(t,"d",function(){return s}),r.d(t,"e",function(){return o}),r.d(t,"f",function(){return l}),r.d(t,"g",function(){return u}),r.d(t,"h",function(){return d}),r.d(t,"i",function(){return p});var a=r(20),n=function(e){return{type:a.k,entityType:e}},i=function(e){return{type:a.l,entity:e}},c=function(){return{type:a.m}},s=function(e){return{type:a.n,entity:e}},o=function(){return{type:a.o}},l=function(e){return{type:a.p,key:e}},u=function(){return{type:a.q}},d=function(){return{type:a.r}},p=function(e){return{type:a.s,term:e}};!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(n,"setEntityType","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/actions/entityActions.js"),__REACT_HOT_LOADER__.register(i,"selectPrimaryEntity","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/actions/entityActions.js"),__REACT_HOT_LOADER__.register(c,"deselectPrimaryEntity","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/actions/entityActions.js"),__REACT_HOT_LOADER__.register(s,"selectSecondaryEntity","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/actions/entityActions.js"),__REACT_HOT_LOADER__.register(o,"deselectSecondaryEntity","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/actions/entityActions.js"),__REACT_HOT_LOADER__.register(l,"setReferenceEntity","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/actions/entityActions.js"),__REACT_HOT_LOADER__.register(u,"sortEntitiesByName","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/actions/entityActions.js"),__REACT_HOT_LOADER__.register(d,"sortEntitiesByRank","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/actions/entityActions.js"),__REACT_HOT_LOADER__.register(p,"filterEntitiesByName","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/actions/entityActions.js"))}()},349:function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"b",function(){return i}),r.d(t,"c",function(){return c});var a=r(20),n=function(e){return{type:a.B,personType:e}},i=function(e){return{type:a.C,personType:e}},c=function(){return{type:a.D}};!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(n,"filterByTypeInjury","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/actions/filterByTypeActions.js"),__REACT_HOT_LOADER__.register(i,"filterByTypeFatality","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/actions/filterByTypeActions.js"),__REACT_HOT_LOADER__.register(c,"filterByNoInjFat","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/actions/filterByTypeActions.js"))}()},350:function(e,t,r){"use strict";r.d(t,"a",function(){return p});var a=r(20),n=function(){return{type:a.t}},i=function(){return{type:a.u}},c=function(){return{type:a.v}},s=function(){return{type:a.w}},o=function(){return{type:a.x}},l=function(){return{type:a.y}},u=function(){return{type:a.z}},d=function(){return{type:a.A}},p=function(e){switch(e){case"car":return n();case"truck":return i();case"motorcycle":return c();case"bicycle":return s();case"suv":return o();case"busvan":return l();case"scooter":return u();case"other":return d();default:throw new Error("filterByVehicle() unknown vehicle action")}};!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(n,"filterByVehicleCar","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/actions/filterByVehicleActions.js"),__REACT_HOT_LOADER__.register(i,"filterByVehicleTruck","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/actions/filterByVehicleActions.js"),__REACT_HOT_LOADER__.register(c,"filterByVehicleMotorcycle","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/actions/filterByVehicleActions.js"),__REACT_HOT_LOADER__.register(s,"filterByVehicleBicycle","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/actions/filterByVehicleActions.js"),__REACT_HOT_LOADER__.register(o,"filterByVehicleSuv","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/actions/filterByVehicleActions.js"),__REACT_HOT_LOADER__.register(l,"filterByVehicleBusVan","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/actions/filterByVehicleActions.js"),__REACT_HOT_LOADER__.register(u,"filterByVehicleScooter","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/actions/filterByVehicleActions.js"),__REACT_HOT_LOADER__.register(d,"filterByVehicleOther","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/actions/filterByVehicleActions.js"),__REACT_HOT_LOADER__.register(p,"filterByVehicle","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/actions/filterByVehicleActions.js"))}()},351:function(e,t,r){"use strict";r.d(t,"a",function(){return c});var a=r(620),n=r.n(a),i=n.a.name+"/",c="chekpeds",s=i;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(i,"baseURL","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/config.js"),__REACT_HOT_LOADER__.register(c,"cartoUser","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/config.js"),__REACT_HOT_LOADER__.register(s,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/config.js"))}()},352:function(e,t,r){"use strict";var a=r(122),n=r.n(a),i=r(22),c=r(198),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},o=["borough","city_council","community_board","neighborhood","assembly","senate","nypd_precinct","intersection"],l=["citywide","custom","manhattan","bronx","queens","brooklyn","staten island"],u=["trend","compare","rank"],d=new Date;d.setDate(1);var p=new Date(d);p.setFullYear(p.getFullYear()-1);var h=new Date(p),m=new Date(h);m.setFullYear(m.getFullYear()-1);var _=function(e){try{JSON.parse(e)}catch(e){return!1}return!0},y=function(e,t){return r.i(i.a)(e)||t},f=function(e,t){var a=r.i(i.a)(e),n=r.i(i.a)(t);return a&&n&&+a!=+n?{startDate:a,endDate:n}:{startDate:p,endDate:d}},E=function(e){return e&&o.includes(e)?e:o[1]},g=function(e){return e&&l.includes(e)?e:l[0]},T=function(e){return e&&u.includes(e)},v=function(e){return T(e)?e:"trend"},R=function(e){return"boolean"==typeof e},A=function(e){var t=e.cinj,r=e.minj,a=e.pinj,n=e.cfat,i=e.mfat,c=e.pfat;return[t,r,a,n,i,c].every(function(e){return R(e)})?{injury:{cyclist:t,motorist:r,pedestrian:a},fatality:{cyclist:n,motorist:i,pedestrian:c},noInjuryFatality:!1}:{injury:{cyclist:!0,motorist:!0,pedestrian:!0},fatality:{cyclist:!1,motorist:!1,pedestrian:!1},noInjuryFatality:!1}},O=function(e){var t=e.vcar,r=e.vtruck,a=e.vmotorcycle,n=e.vbicycle,i=e.vsuv,c=e.vbusvan,s=e.vscooter,o=e.vother;return{vehicle:{car:!R(t)||t,truck:!R(r)||r,motorcycle:!R(a)||a,bicycle:!R(n)||n,suv:!R(i)||i,busvan:!R(c)||c,scooter:!R(s)||s,other:!R(o)||o}}},b=function(){var e=n.a.parse(location.search);return Object.keys(e).reduce(function(t,r){var a=decodeURIComponent(e[r]);return _(a)?t[r]=JSON.parse(a):t[r]=a,t},{})},D=function(e){var t=f(e.p1start,e.p1end);return{dateRanges:{period1:t,period2:{startDate:r.i(i.a)(e.p2start)?y(e.p2start,m):new Date(new Date(t.startDate).setFullYear(t.startDate.getFullYear()-1)),endDate:r.i(i.a)(e.p2end)?y(e.p2end,h):new Date(t.startDate)}},entities:s({},c.a,{entityType:E(e.geo),primary:s({},c.a.primary,{key:e.primary}),secondary:s({},c.a.secondary,{key:e.secondary}),reference:"custom"===e.geo?"custom":g(e.reference)}),chartView:v(e.view),filterType:A(e),filterVehicle:O(e),customGeography:e.lngLats,trendAggMonths:e.trendAggMonths}},C=function(){var e=b();return D(e)};t.a=C,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"validGeographies","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reduxHydrateState.js"),__REACT_HOT_LOADER__.register(l,"validRefGeos","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reduxHydrateState.js"),__REACT_HOT_LOADER__.register(u,"validViews","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reduxHydrateState.js"),__REACT_HOT_LOADER__.register(d,"p1EndDefault","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reduxHydrateState.js"),__REACT_HOT_LOADER__.register(p,"p1StartDefault","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reduxHydrateState.js"),__REACT_HOT_LOADER__.register(h,"p2EndDefault","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reduxHydrateState.js"),__REACT_HOT_LOADER__.register(m,"p2StartDefault","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reduxHydrateState.js"),__REACT_HOT_LOADER__.register(_,"isJsonString","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reduxHydrateState.js"),__REACT_HOT_LOADER__.register(y,"isValidDate","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reduxHydrateState.js"),__REACT_HOT_LOADER__.register(f,"isValidPeriod1","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reduxHydrateState.js"),__REACT_HOT_LOADER__.register(E,"isValidGeo","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reduxHydrateState.js"),__REACT_HOT_LOADER__.register(g,"isValidRefGeo","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reduxHydrateState.js"),__REACT_HOT_LOADER__.register(T,"isValidView","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reduxHydrateState.js"),__REACT_HOT_LOADER__.register(v,"setValidView","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reduxHydrateState.js"),__REACT_HOT_LOADER__.register(R,"isBool","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reduxHydrateState.js"),__REACT_HOT_LOADER__.register(A,"setValidFilterTypes","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reduxHydrateState.js"),__REACT_HOT_LOADER__.register(O,"setVehicleFiltersFromUrlParams","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reduxHydrateState.js"),__REACT_HOT_LOADER__.register(b,"parseQueryParams","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reduxHydrateState.js"),__REACT_HOT_LOADER__.register(D,"createInitialState","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reduxHydrateState.js"),__REACT_HOT_LOADER__.register(C,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reduxHydrateState.js"))}()},353:function(e,t,r){"use strict";var a=r(122),n=r.n(a),i=r(22),c=function(e){var t=e.dateRanges,a=e.chartView,c=e.entities,s=e.filterType,o=e.filterVehicle,l=e.customGeography,u=e.trendAggMonths,d=t.period1,p=t.period2,h=c.entityType,m=c.primary,_=c.secondary,y=c.reference,f=s.injury,E=s.fatality,g=o.vehicle,T={p1start:r.i(i.b)(d.startDate),p1end:r.i(i.b)(d.endDate),p2start:r.i(i.b)(p.startDate),p2end:r.i(i.b)(p.endDate),primary:m.key,secondary:_.key,reference:y,geo:h,cinj:f.cyclist,minj:f.motorist,pinj:f.pedestrian,cfat:E.cyclist,mfat:E.motorist,pfat:E.pedestrian,view:a,trendAggMonths:u,vcar:g.car,vtruck:g.truck,vmotorcycle:g.motorcycle,vbicycle:g.bicycle,vsuv:g.suv,vbusvan:g.busvan,vscooter:g.scooter,vother:g.other};l.length&&(T.lngLats=encodeURIComponent(JSON.stringify(l)));var v=n.a.stringify(T);window.history.replaceState(T,"","?"+v)};t.a=c,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(c,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/updateBrowserHistory.js")}()},354:function(e,t,r){"use strict";var a=r(1),n=r.n(a),i=function(){return n.a.createElement("div",{className:"About scroll"},n.a.createElement("h6",null,"TAKE ACTION"),n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("p",null,"Start a"," ",n.a.createElement("a",{href:"https://campaigns.transalt.org/new"},n.a.createElement("strong",null,"PETITION"))," ","to raise the profile of your traffic problems")),n.a.createElement("li",null,n.a.createElement("p",null,"Start a"," ",n.a.createElement("a",{href:"https://www.transalt.org/organize"},n.a.createElement("strong",null,"CAMPAIGN"))," ","to obtain the installation of traffic safety features in your area")),n.a.createElement("li",null,n.a.createElement("p",null,"Get traffic safety"," ",n.a.createElement("a",{href:"http://visionheroinc.org"},n.a.createElement("strong",null,"EDUCATION"))," ","for your school")),n.a.createElement("li",null,n.a.createElement("p",null,n.a.createElement("a",{href:"https://www.transalt.org/familiesforsafestreets"},n.a.createElement("strong",null,"JOIN"))," ","families of other victims to seek traffic justice")),n.a.createElement("li",null,n.a.createElement("p",null,"Report a crash to the"," ",n.a.createElement("a",{href:"mailto:tips@streetsblog.org"},n.a.createElement("strong",null,"PRESS")),"."))),n.a.createElement("h6",null,"GET MORE INFORMATION"),n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("p",null,n.a.createElement("a",{href:"http://www.nycvzv.info"},n.a.createElement("strong",null,"TRAFFIC CALMING"))," ","features installed in your neighborhood")),n.a.createElement("li",null,n.a.createElement("p",null,"Vision Zero (zero traffic deaths) Pedestrian Safety Action"," ",n.a.createElement("a",{href:"http://www.nyc.gov/html/dot/html/pedestrians/ped-safety-action-plan.shtml"},n.a.createElement("strong",null,"PLANS")))),n.a.createElement("li",null,n.a.createElement("p",null,"Vision Zero"," ",n.a.createElement("a",{href:"http://www1.nyc.gov/site/visionzero/initiatives/initiatives.page"},n.a.createElement("strong",null,"REPORT CARDS")))),n.a.createElement("li",null,n.a.createElement("p",null,n.a.createElement("a",{href:"http://www.nyc.gov/html/dot/html/contact/contact-form.shtml"},n.a.createElement("strong",null,"CONTACT"))," ","the Department of Transportation")),n.a.createElement("li",null,n.a.createElement("p",null,"Get"," ",n.a.createElement("a",{href:"mailto:excom@chekpeds.com?subject=NYC%20Crash%20Mapper"},n.a.createElement("strong",null,"ANSWERS"))," ","to any question on NYC Crash Mapper"))),n.a.createElement("h6",null,"ABOUT CRASH MAPPER"),n.a.createElement("p",null,n.a.createElement("strong",null,"MAPPING WITH CUSTOMIZED FILTERING"),": The map allows a user to create a customized filter of any area and track it over time. This is particularly helpful to see the impact of Vision Zero improvements on a corridor, a slow zone, a school zone, etc. This is in addition to other more traditional filters like Borough, Community Boards, NYPD Precincts and more. Any active filters may easily be shared with others using the website's URL."),n.a.createElement("p",null,n.a.createElement("strong",null,"ANALYZING: TREND")," allows you to compare two selected areas performance against each other and to a citywide or borough-wide reference, while filtering by date range or type of crash. COMPARE lets you compare two time periods for a given area. RANK shows where one area or one intersection ranks in terms of safety in the context of all similar areas over the most recent two-year period."),n.a.createElement("p",null,n.a.createElement("strong",null,"ENHANCED DATA"),": Collision data is updated from the NYC Open Data Portal daily or as soon as new data becomes available with a one month back refresh. NYC Crash Mapper uses vehicle collision data for New York City from August 2011 to the present. The data was aggregated and normalized from the NYC Open Data Portal"," ",n.a.createElement("a",{href:"https://data.cityofnewyork.us/Public-Safety/NYPD-Motor-Vehicle-Collisions/h9gi-nx95"},n.a.createElement("strong",null,"NYPD Motor Vehicle Collisions"))," ","and"," ",n.a.createElement("a",{href:"https://github.com/talos/nypd-crash-data-bandaid"},n.a.createElement("strong",null,"John Krauss's NYPD Crash Data Bandaid")),"."),n.a.createElement("p",null,'As a result of some of the source data not being geocoded the statistics (total crashes, fatalities, and injuries) displayed in the bottom of the map view may differ from what is shown on the map when Filter By Boundary is set to "Citywide." When a Filter By Boundary other than "Citywide" is used, such as a "Community Board", the stats will only display counts for crashes that have been geocoded and are located within a selected boundary.'),n.a.createElement("p",null,"NYPD captures up to five (5) vehicles included in a crash. As long as any one of these vehicles matches the filter selected, the related injuries and fatalities will be counted  even if the vehicle is potentially not directly responsible for the fatalities/injuries."),n.a.createElement("p",null,n.a.createElement("strong",null,"NYC CRASH MAPPER")," was made possible by"," ",n.a.createElement("a",{href:"https://carto.com/"},n.a.createElement("strong",null,"CARTO"))," ","for hosting the data and making the creation of this tool possible through their Grants For Good program; by The Lily Auchincloss and PEPSI foundations, the Manhattan Borough President, and the New York City Council. The"," ",n.a.createElement("a",{href:"https://lilynyc.org/"},n.a.createElement("strong",null,"LILY AUCHINCLOSS FOUNDATION"))," ","generous grant helped to write the vehicular analysis modules."),n.a.createElement("p",null,"This application is the result of four iterations of a mapping initiative started by Transportation Alternatives in 2006 and continued by John Kraus.The current version of the application with charts was built in 2017 by Chris Henrick and"," ",n.a.createElement("a",{href:"http://greeninfo.org"},n.a.createElement("strong",null,"GreenInfo Network")),"."),n.a.createElement("p",null,n.a.createElement("a",{href:"http://chekpeds.com/"},n.a.createElement("strong",null,"CHECKPEDS")," "),"is a 501(c)(3) non-profit organization founded in 2005 that advocates for pedestrian safety, primarily focusing on the west side of Manhattan. Data has played a critical role in the coalition's success in highlighting the concentration of fatalities and injuries to the authorities. This resulted in the DOT installing traffic calming features in the area, including bike lanes, protected pedestrian crossings and traffic calming measures. It is CHEKPEDS hope that this easy-to-use tool will empower many other activists and individuals in New York City to gain an understanding of how dangerous their streets are and obtain the installation of safety features."),n.a.createElement("p",null,"You may"," ",n.a.createElement("a",{href:"mailto:excom@chekpeds.com?subject=NYC%20Crash%20Mapper"},n.a.createElement("strong",null,"email CHEKPEDS"))," ","regarding any questions or concerns about NYC Crash Mapper."))},c=i;t.a=c,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(i,"About","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/About.jsx"),__REACT_HOT_LOADER__.register(c,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/About.jsx"))}()},355:function(e,t,r){"use strict";function a(e){switch(e){case"cyclist":return h;case"motorist":return m;case"pedestrian":return _;default:return null}}var n=r(1),i=r.n(n),c=r(3),s=r.n(c),o=r(45),l=(r.n(o),r(22)),u=r(339),d=r(341),p=r(342),h=function(e){return i.a.createElement(u.a,e)},m=function(e){return i.a.createElement(d.a,e)},_=function(e){return i.a.createElement(p.a,e)},y=function(e){var t=e.personType,n=e.radius,c=e.strokeWidth,s=e.data;if(!s||!s.grid)return null;var u=s.grid,d=s.gridWidth,p=s.gridHeight,h=s.killedTotal,m=s.injuredTotal,_=o.scaleOrdinal(["#FFDB65","#FF972A","#D96246"]).domain(["pedestrian","cyclist","motorist"]),y=n+c,f=a(t),E={visibility:m>=0?"visible":"hidden"},g={visibility:h>=0?"visible":"hidden"},T=i.a.createElement("div",null,i.a.createElement(f,{className:"PersonIcon",width:"35px",height:"35px"}),i.a.createElement("div",{style:{display:"inline-block"}},i.a.createElement("h6",{style:g},t+" killed: ",i.a.createElement("strong",null,r.i(l.d)(h))),i.a.createElement("h6",{style:E},t+" injured: ",i.a.createElement("strong",null,r.i(l.d)(m))))),v=e.drawdots?i.a.createElement("svg",{width:d,height:p+10},i.a.createElement("g",{transform:"translate("+y+", "+y+")"},u.map(function(e,r){return i.a.createElement("circle",{key:r,cx:e.x,cy:e.y,r:n,stroke:_(t),strokeWidth:c,fill:r+1<=h?_(t):"none"})}))):null;return i.a.createElement("div",{className:"DotGridChart"},T,v)};y.propTypes={personType:s.a.string.isRequired,radius:s.a.number,strokeWidth:s.a.number,data:s.a.shape({}),drawdots:s.a.bool},y.defaultProps={radius:5,strokeWidth:2,data:{},drawdots:!0};var f=y;t.a=f,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(h,"IconCyclist","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/DotGridCharts/DotGridChart.jsx"),__REACT_HOT_LOADER__.register(m,"IconMotorist","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/DotGridCharts/DotGridChart.jsx"),__REACT_HOT_LOADER__.register(_,"IconPedestrian","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/DotGridCharts/DotGridChart.jsx"),__REACT_HOT_LOADER__.register(a,"personTypeIcon","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/DotGridCharts/DotGridChart.jsx"),__REACT_HOT_LOADER__.register(y,"DotGridChart","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/DotGridCharts/DotGridChart.jsx"),__REACT_HOT_LOADER__.register(f,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/DotGridCharts/DotGridChart.jsx"))}()},356:function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=r(1),s=r.n(c),o=r(3),l=r.n(o),u=r(17),d=r(75),p=r(380),h=r(379),m=r(358),_=r(357),y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},f=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),E=function(e){function t(){a(this,t);var e=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.circleRadius=5,e.strokeWidth=2,e}return i(t,e),f(t,[{key:"render",value:function(){var e=this.props,t=e.entityType,a=e.keyPrimary,n=e.keySecondary,i=e.dateRanges,c=this.props.customGeography,o=r.i(d.c)(t),l=r.i(d.b)(t,a),u=r.i(d.b)(t,n);return s.a.createElement("div",{className:"DotGridChartsContainer scroll"},s.a.createElement(_.a,{dateRanges:i}),s.a.createElement(m.a,y({keyLabel:"Citywide"},{dateRanges:i,keyPrimary:"",entityLabel:""})),s.a.createElement("div",{className:"dot-grid-row"},s.a.createElement(h.a,{entityType:"citywide",period:"period1"}),s.a.createElement(h.a,{entityType:"citywide",period:"period2"})),s.a.createElement("div",{className:"dot-grid-row"},s.a.createElement(p.a,{entityType:"citywide",period:"period1",title:"Period A",radius:this.circleRadius,strokeWidth:this.strokeWidth,personType:"pedestrian"}),s.a.createElement(p.a,{entityType:"citywide",period:"period2",title:"Period B",radius:this.circleRadius,strokeWidth:this.strokeWidth,personType:"pedestrian"})),s.a.createElement("div",{className:"dot-grid-row"},s.a.createElement(p.a,{entityType:"citywide",period:"period1",title:"Period A",radius:this.circleRadius,strokeWidth:this.strokeWidth,personType:"cyclist"}),s.a.createElement(p.a,{entityType:"citywide",period:"period2",title:"Period B",radius:this.circleRadius,strokeWidth:this.strokeWidth,personType:"cyclist"})),s.a.createElement("div",{className:"dot-grid-row sectionbreak"},s.a.createElement(p.a,{entityType:"citywide",period:"period1",title:"Period A",radius:this.circleRadius,strokeWidth:this.strokeWidth,personType:"motorist"}),s.a.createElement(p.a,{entityType:"citywide",period:"period2",title:"Period B",radius:this.circleRadius,strokeWidth:this.strokeWidth,personType:"motorist"})),c.length?s.a.createElement(m.a,y({keyLabel:"Custom Geography"},{dateRanges:i,keyPrimary:"",entityLabel:""})):null,c.length?s.a.createElement("div",{className:"dot-grid-row"},s.a.createElement(h.a,{entityType:"custom",period:"period1"}),s.a.createElement(h.a,{entityType:"custom",period:"period2"})):null,c.length?s.a.createElement("div",{className:"dot-grid-row"},s.a.createElement(p.a,{entityType:"custom",customGeography:c,period:"period1",title:"Period A",radius:this.circleRadius,strokeWidth:this.strokeWidth,personType:"pedestrian"}),s.a.createElement(p.a,{entityType:"custom",customGeography:c,period:"period2",title:"Period B",radius:this.circleRadius,strokeWidth:this.strokeWidth,personType:"pedestrian"})):null,c.length?s.a.createElement("div",{className:"dot-grid-row"},s.a.createElement(p.a,{entityType:"custom",customGeography:c,period:"period1",title:"Period A",radius:this.circleRadius,strokeWidth:this.strokeWidth,personType:"cyclist"}),s.a.createElement(p.a,{entityType:"custom",customGeography:c,period:"period2",title:"Period B",radius:this.circleRadius,strokeWidth:this.strokeWidth,personType:"cyclist"})):null,c.length?s.a.createElement("div",{className:"dot-grid-row sectionbreak"},s.a.createElement(p.a,{entityType:"custom",customGeography:c,period:"period1",title:"Period A",radius:this.circleRadius,strokeWidth:this.strokeWidth,personType:"motorist"}),s.a.createElement(p.a,{entityType:"custom",customGeography:c,period:"period2",title:"Period B",radius:this.circleRadius,strokeWidth:this.strokeWidth,personType:"motorist"})):null,a&&s.a.createElement(m.a,y({keyLabel:l},{keyPrimary:a,dateRanges:i,entityLabel:o})),a&&s.a.createElement("div",{className:"dot-grid-row"},s.a.createElement(h.a,{entityType:"primary",period:"period1"}),s.a.createElement(h.a,{entityType:"primary",period:"period2"})),a&&s.a.createElement("div",{className:"dot-grid-row"},s.a.createElement(p.a,{entityType:"primary",period:"period1",title:"Period A",radius:this.circleRadius,strokeWidth:this.strokeWidth,personType:"pedestrian"}),s.a.createElement(p.a,{entityType:"primary",period:"period2",title:"Period B",radius:this.circleRadius,strokeWidth:this.strokeWidth,personType:"pedestrian"})),a&&s.a.createElement("div",{className:"dot-grid-row"},s.a.createElement(p.a,{entityType:"primary",period:"period1",title:"Period A",radius:this.circleRadius,strokeWidth:this.strokeWidth,personType:"cyclist"}),s.a.createElement(p.a,{entityType:"primary",period:"period2",title:"Period B",radius:this.circleRadius,strokeWidth:this.strokeWidth,personType:"cyclist"})),a&&s.a.createElement("div",{className:"dot-grid-row"},s.a.createElement(p.a,{entityType:"primary",period:"period1",title:"Period A",radius:this.circleRadius,strokeWidth:this.strokeWidth,personType:"motorist"}),s.a.createElement(p.a,{entityType:"primary",period:"period2",title:"Period B",radius:this.circleRadius,strokeWidth:this.strokeWidth,personType:"motorist"})),n&&s.a.createElement(m.a,y({keyLabel:u},{keyPrimary:a,dateRanges:i,entityLabel:o})),n&&s.a.createElement("div",{className:"dot-grid-row"},s.a.createElement(h.a,{entityType:"secondary",period:"period1"}),s.a.createElement(h.a,{entityType:"secondary",period:"period2"})),n&&s.a.createElement("div",{className:"dot-grid-row"},s.a.createElement(p.a,{entityType:"secondary",period:"period1",title:"Period A",radius:this.circleRadius,strokeWidth:this.strokeWidth,personType:"pedestrian"}),s.a.createElement(p.a,{entityType:"secondary",period:"period2",title:"Period B",radius:this.circleRadius,strokeWidth:this.strokeWidth,personType:"pedestrian"})),n&&s.a.createElement("div",{className:"dot-grid-row"},s.a.createElement(p.a,{entityType:"secondary",period:"period1",title:"Period A",radius:this.circleRadius,strokeWidth:this.strokeWidth,personType:"cyclist"}),s.a.createElement(p.a,{entityType:"secondary",period:"period2",title:"Period B",radius:this.circleRadius,strokeWidth:this.strokeWidth,personType:"cyclist"})),n&&s.a.createElement("div",{className:"dot-grid-row"},s.a.createElement(p.a,{entityType:"secondary",period:"period1",title:"Period A",radius:this.circleRadius,strokeWidth:this.strokeWidth,personType:"motorist"}),s.a.createElement(p.a,{entityType:"secondary",period:"period2",title:"Period B",radius:this.circleRadius,strokeWidth:this.strokeWidth,personType:"motorist"})),a||n?null:s.a.createElement("h5",{className:"select-entity"},"Select a ",t.replace(/_/g," ")))}}]),t}(c.Component);E.propTypes={dateRanges:u.j.isRequired,entityType:l.a.string.isRequired,keyPrimary:u.c,keySecondary:u.c,width:l.a.number.isRequired,customGeography:u.f.isRequired},E.defaultProps={keyPrimary:"",keySecondary:""};var g=E;t.a=g,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(E,"DotGridChartsContainer","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/DotGridCharts/DotGridChartsContainer.jsx"),__REACT_HOT_LOADER__.register(g,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/DotGridCharts/DotGridChartsContainer.jsx"))}()},357:function(e,t,r){"use strict";var a=r(1),n=r.n(a),i=r(17),c=r(22),s=function(e){var t=e.dateRanges,a=t.period1,i=t.period2,s=r.i(c.e)(a.startDate),o=r.i(c.e)(i.startDate),l=r.i(c.f)(a.startDate,a.endDate),u=l>1?"months":"month",d=r.i(c.f)(i.startDate,i.endDate),p=d>1?"months":"month",h=null;return l===d&&s===o||(h=n.a.createElement("h6",{className:"PeriodsNotEqualWarning"},"Select two periods with same start month and duration.")),n.a.createElement("div",{className:"dot-grid-row"},n.a.createElement("div",{className:"DotGridPeriodsHeader"},n.a.createElement("h5",null,r.i(c.c)(a.startDate)+"  "+r.i(c.c)(a.endDate)),n.a.createElement("h6",null,"Period A ",n.a.createElement("span",null,"(",l," ",u,")")),h),n.a.createElement("div",{className:"DotGridPeriodsHeader"},n.a.createElement("h5",null,r.i(c.c)(i.startDate)+"  "+r.i(c.c)(i.endDate)),n.a.createElement("h6",null,"Period B ",n.a.createElement("span",null,"(",d," ",p,")")),h))};s.propTypes={dateRanges:i.b.isRequired};var o=s;t.a=o,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(s,"DotGridPeriodsHeader","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/DotGridCharts/DotGridPeriodsHeader.jsx"),__REACT_HOT_LOADER__.register(o,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/DotGridCharts/DotGridPeriodsHeader.jsx"))}()},358:function(e,t,r){"use strict";var a=r(1),n=r.n(a),i=r(3),c=r.n(i),s=r(17),o=function(e){var t=e.keyLabel;return n.a.createElement("div",{className:"DotGridTitle"},n.a.createElement("h5",null,t))};o.propTypes={dateRanges:s.b.isRequired,entityLabel:c.a.string.isRequired,keyLabel:c.a.string.isRequired};var l=o;t.a=l,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"DotGridTitle","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/DotGridCharts/DotGridTitle.jsx"),__REACT_HOT_LOADER__.register(l,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/DotGridCharts/DotGridTitle.jsx"))}()},359:function(e,t,r){"use strict";var a=r(1),n=r.n(a),i=r(875),c=r.n(i),s=function(){return n.a.createElement("div",{className:"HeaderTitle"},n.a.createElement("a",{href:"http://chekpeds.com",target:"_blank",rel:"noopener noreferrer"},n.a.createElement("img",{className:"chekpeds-logo",alt:"Chekpeds Logo",src:c.a})),n.a.createElement("h3",null,"nyc crash mapper"))};t.a=s,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(s,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/Header/HeaderTitle.jsx")}()},360:function(e,t,r){"use strict";var a=r(1),n=r.n(a),i=r(359),c=r(387),s=function(){return n.a.createElement("div",{className:"Header"},n.a.createElement(i.a,null),n.a.createElement(c.a,null))},o=s;t.a=o,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(s,"Header","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/Header/index.jsx"),__REACT_HOT_LOADER__.register(o,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/Header/index.jsx"))}()},361:function(e,t,r){"use strict";var a=r(1),n=r.n(a),i=function(){return n.a.createElement("div",{className:"Help scroll"},n.a.createElement("h6",null,"HOW TO USE CRASH MAPPER"),n.a.createElement("table",null,n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("iframe",{title:"Help-Navigation",src:"https://player.vimeo.com/video/254240475",width:"640",height:"360",frameBorder:"0",allowFullScreen:!0})),n.a.createElement("td",null,n.a.createElement("h6",null,"Crashmapper Navigation"),n.a.createElement("p",null,"Analyze crash data like a pro. With a few clicks, master the information contained in the NYC Open Data Collision dataset, collected by NYPD. Choose a data view, filter by dates, geographies and crash type and get maps, charts and information summaries. Share with others."))),n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("iframe",{title:"Help-CustomMap",src:"https://player.vimeo.com/video/255986407",width:"640",height:"360",frameBorder:"0",allowFullScreen:!0})),n.a.createElement("td",null,n.a.createElement("h6",null,"Crashmapper Custom Map"),n.a.createElement("p",null,"How is my area of focus (corridor, school zone, business improvement district) faring in terms of traffic safety?"))),n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("iframe",{title:"Help-Trend",src:"https://player.vimeo.com/video/255986627",width:"640",height:"360",frameBorder:"0",allowFullScreen:!0})),n.a.createElement("td",null,n.a.createElement("h6",null,"Crashmapper Trend"),n.a.createElement("p",null,"How does my neighborhood compare to others and to the borough in terms of traffic safety?"))),n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("iframe",{title:"Help-Compare",src:"https://player.vimeo.com/video/255986283",width:"640",height:"360",frameBorder:"0",allowFullScreen:!0})),n.a.createElement("td",null,n.a.createElement("h6",null,"Crashmapper Compare"),n.a.createElement("p",null,"How has traffic safety changed in my neighborhood since a past period? Are the traffic calming measures working?"))),n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("iframe",{title:"Help-Rank",src:"https://player.vimeo.com/video/255986528",width:"640",height:"360",frameBorder:"0",allowFullScreen:!0})),n.a.createElement("td",null,n.a.createElement("h6",null,"Crashmapper Rank"),n.a.createElement("p",null,"How is this dangerous intersection ranked in the district, borough or city overall? Are we concentrating our efforts on the most dangerous intersections?"))),n.a.createElement("tr",null,n.a.createElement("td",{style:{verticalAlign:"middle",textAlign:"center"}},"Video coming soon"),n.a.createElement("td",null,n.a.createElement("h6",null,"Crashmapper Vehicle Filter"),n.a.createElement("p",null,"When selecting a vehicle type, the numbers returned will be those relating to any crash where the vehicle is involved. Please note these technical limitations:"),n.a.createElement("ul",null,n.a.createElement("li",null,"NYPD officers use free form entries to report the vehicle involved in a crash. CHEKPEDS maps these entries to eight categories."),n.a.createElement("li",null,"NYPD captures up to five (5) vehicles included in a crash. As long as one of these vehicles matches the filter selected, the related injuries and fatalities will be counted  even if the vehicle is potentially not directly responsible for the fatalities/injuries.")))))))},c=i;t.a=c,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(i,"Help","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/Help.jsx"),__REACT_HOT_LOADER__.register(c,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/Help.jsx"))}()},362:function(e,t,r){"use strict";var a=r(1),n=r.n(a),i=r(45),c=(r.n(i),function(){function e(e,t){return e.map(function(e,r){return n.a.createElement("g",{key:e+"-"+t,transform:"translate("+r*o+", 0)"},n.a.createElement("circle",{cx:0,cy:0,r:s,fill:t===a[0]?c(e):"none",stroke:t===a[1]?c(e):"none",strokeWidth:2}),n.a.createElement("text",{x:10,y:5},e+" "+t))})}var t=["pedestrian","cyclist","motorist"],a=["fatality","injury"],c=r.i(i.scaleOrdinal)(["#FFDB65","#FF972A","#D96246"]).domain(t),s=5,o=150;return n.a.createElement("div",{className:"CompareLegend"},n.a.createElement("div",{className:"compare-legend-row"},n.a.createElement("svg",{className:"compare-legend-circles",width:500,height:"15"},n.a.createElement("g",{transform:"translate(7,7)"},e(t,a[0])))),n.a.createElement("div",{className:"compare-legend-row"},n.a.createElement("svg",{className:"compare-legend-circles",width:500,height:"15"},n.a.createElement("g",{transform:"translate(7,7)"},e(t,a[1])))))});t.a=c,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(c,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/Legend/CompareLegend.jsx")}()},363:function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=r(1),s=r.n(c),o=r(3),l=r.n(o),u=r(364),d=r(17),p=r(87),h=r.n(p),m=r(75),_=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),y=function(e){function t(){return a(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.chartView,a=e.entityType,n=e.primary,i=e.secondary,c=e.reference,o=e.deselectPrimaryEntity,l=e.deselectSecondaryEntity;return s.a.createElement("div",{className:"EntitySelections"},"rank"!==t&&s.a.createElement(u.a,{chartView:t,color:h.a["reference-color"],entityType:c,entity:" "}),s.a.createElement(u.a,{chartView:t,color:n.color,entityType:r.i(m.c)(a),entityLabel:r.i(m.b)(a,n.key),entityId:r.i(m.a)(a,n.key),deselectEntity:o}),s.a.createElement(u.a,{chartView:t,color:i.color,entityType:r.i(m.c)(a),entityLabel:r.i(m.b)(a,i.key),entityId:r.i(m.a)(a,i.key),deselectEntity:l}))}}]),t}(c.Component);y.propTypes={chartView:l.a.string.isRequired,entityType:d.c,primary:d.h,reference:l.a.string.isRequired,secondary:d.h,deselectPrimaryEntity:l.a.func.isRequired,deselectSecondaryEntity:l.a.func.isRequired},y.defaultProps={entityType:"",primary:null,secondary:null};var f=y;t.a=f,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(y,"EntitySelections","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/Legend/EntitySelections.jsx"),__REACT_HOT_LOADER__.register(f,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/Legend/EntitySelections.jsx"))}()},364:function(e,t,r){"use strict";var a=r(1),n=r.n(a),i=r(3),c=r.n(i),s=r(88),o=r.n(s),l=function(e){var t=e.chartView,r=e.color,a=e.entityId,i=e.entityLabel,c=e.deselectEntity,s={backgroundColor:a?r:null},l=o()({"color-key":!0,line:"trend"===t,square:"rank"===t});return a?n.a.createElement("div",{className:"EntitySelector"},n.a.createElement("div",{className:"flex-wrapper"},n.a.createElement("span",{className:l,style:s}),n.a.createElement("h6",null,i),c&&n.a.createElement("button",{className:"deselect",onClick:function(){return c()}},""))):null};l.propTypes={chartView:c.a.string.isRequired,color:c.a.string.isRequired,entityId:c.a.string,entityLabel:c.a.string,deselectEntity:c.a.func},l.defaultProps={entityId:null,entityLabel:null,deselectEntity:null};var u=l;t.a=u,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(l,"EntitySelector","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/Legend/EntitySelector.jsx"),__REACT_HOT_LOADER__.register(u,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/Legend/EntitySelector.jsx"))}()},365:function(e,t,r){"use strict";var a=r(1),n=r.n(a),i=r(343),c=r(876),s=r.n(c),o=r(877),l=r.n(o),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},d=function(e){return n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://carto.com",style:{lineHeight:"1rem"}},n.a.createElement(i.a,e))},p=function(e){return n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"http://greeninfo.org",style:{lineHeight:"1rem"}},n.a.createElement("img",u({alt:"greeninfo-network logo",src:s.a},e)))},h=function(e){return n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://lilynyc.org/",style:{lineHeight:"1rem",marginRight:"18px"}},n.a.createElement("img",u({alt:"Lily Auchincloss Foundation logo",src:l.a},e)))},m=function(){return n.a.createElement("div",{className:"Logos"},n.a.createElement(h,{style:{display:"inline-block"},width:"288px",height:"30px"}),n.a.createElement(p,{style:{display:"inline-block"},width:"95px",height:"48px"}),n.a.createElement(d,{style:{display:"inline-block"},width:"62px",height:"24px"}))};t.a=m,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(d,"CartoLogo","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/Legend/Logos.jsx"),__REACT_HOT_LOADER__.register(p,"GinLogo","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/Legend/Logos.jsx"),__REACT_HOT_LOADER__.register(h,"LilyLogo","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/Legend/Logos.jsx"),__REACT_HOT_LOADER__.register(m,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/Legend/Logos.jsx"))}()},366:function(e,t,r){"use strict";var a=r(1),n=r.n(a),i=r(3),c=r.n(i),s=r(17),o=r(363),l=r(362),u=r(365),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},p=function(e){var t=e.entities,r=e.deselectPrimaryEntity,a=e.deselectSecondaryEntity,i=e.chartView,c="about"===i?"Legend view-about":"Legend";return n.a.createElement("div",{className:c},function(){switch(i){case"compare":return n.a.createElement(l.a,null);case"trend":return n.a.createElement(o.a,d({},t,{chartView:i},{deselectPrimaryEntity:r,deselectSecondaryEntity:a}));case"rank":return n.a.createElement(o.a,d({key:"b"},t,{chartView:i},{deselectPrimaryEntity:r,deselectSecondaryEntity:a}));default:return null}}(),n.a.createElement(u.a,null))};p.propTypes={entities:s.i.isRequired,filterType:s.d.isRequired,chartView:s.a.isRequired,deselectPrimaryEntity:c.a.func.isRequired,deselectSecondaryEntity:c.a.func.isRequired};var h=p;t.a=h,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(p,"Legend","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/Legend/index.js"),__REACT_HOT_LOADER__.register(h,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/Legend/index.js"))}()},367:function(e,t,r){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=r(1),o=r.n(s),l=r(3),u=r.n(l),d=r(45),p=(r.n(d),r(719)),h=r.n(p),m=r(17),_=r(22),y=r(75),f=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),E=function(e){function t(){n(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.referenceValuesAggregated=[],e.primaryValuesAggregated=[],e.secondaryValuesAggregated=[],e.container=null,e.svg=null,e.margin={top:10,right:75,bottom:20,left:60},e.yAxis=d.axisLeft(),e.yAxis2=d.axisRight(),e.xAxis=d.axisBottom(),e.xScale=d.scaleTime(),e.yScale=d.scaleLinear(),e.yScale2=d.scaleLinear(),e.gridlinesX=function(){return d.axisBottom(e.xScale).ticks(5)},e.gridlinesY=function(){return d.axisLeft(e.yScale2).ticks(5)},e.lineGenerator=d.line().x(function(t){return e.xScale(t.year_month)}).y(function(t){return e.yScale(t.count)}).curve(d.curveMonotoneX),e.lineGenerator2=d.line().x(function(t){return e.xScale(t.year_month)}).y(function(t){return e.yScale2(t.count)}).curve(d.curveMonotoneX),e.bisectDate=d.bisector(function(e){return e.year_month}).left,e}return c(t,e),f(t,[{key:"componentDidMount",value:function(){var e=this.props.referenceValues;e&&e.length&&(this.initChart(),this.initTooltips(),this.updateChart())}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.appHeight,n=t.appWidth,i=t.keyPrimary,c=t.keySecondary,s=t.keyReference,o=t.referenceValues,l=t.entityType,u=t.startDate,p=t.endDate,h=t.trendAggMonths,m=t.yMax,_=t.y2Max,f=d.select(this.svg).select("g").node();if(f||o.length&&!e.referenceValues.length&&this.initChart(),f&&((i!==e.keyPrimary||c!==e.keySecondary||o.length&&s!==e.keyReference)&&this.updateChart(),+u==+e.startDate&&+p==+e.endDate&&+h==+e.trendAggMonths||this.updateChart(),m===e.yMax&&_===e.y2Max||this.updateChart(),a===e.appHeight&&n===e.appWidth||this.resizeChart()),f){var E=r.i(y.c)(l,!0),g=i?"Crashes per "+E:"",T="citywide"===s?"":"in",v="Crashes "+T+" "+y.d[s];this.yAxisLabel1.text(g),this.yAxisLabel2.text(v)}}},{key:"getContainerSize",value:function(){var e=this.container.getBoundingClientRect(),t=Math.floor(e.width)-this.margin.right-this.margin.left;return{height:Math.floor(e.height)-this.margin.top-this.margin.bottom,width:t}}},{key:"initTooltips",value:function(){function e(e,t){var r=A(t,e,1),a=t[r-1],n=t[r];return a&&n?e-a.year_month>n.year_month-e?n:a:null}function t(e){var t=0,r=0;return s&&o&&(t=60,r=80),s&&!o&&(t=60),!s&&o&&(r=60),"primary"===e?t:r}function a(){var a=d.mouse(this),n=a[0],i=R.invert(n),m=e(i,D);if(m){var y=r.i(_.c)(m.year_month);m.start_date&&m.end_date&&m.blocklength&&(y=r.i(_.c)(m.start_date)+" - "+r.i(_.c)(m.end_date),m.blocklength!==p&&(y+=" ("+m.blocklength+" months)")),T.select("text.tooltip-date").attr("x","10px").attr("y","20px").text(y),T.select("text.tooltip-ref").attr("x","10px").attr("y","40px").text(c+" total: "+r.i(_.d)(m.count))}if(""!==s&&l.length){var E=e(i,C),g=t("primary");T.select("text.tooltip-primary").attr("x","10px").attr("y",g+"px").text(O+" total: "+r.i(_.d)(E.count))}else T.select("text.tooltip-primary").text("");if(""!==o&&u.length){var A=e(i,w),k=t("secondary");T.select("text.tooltip-secondary").attr("x","10px").attr("y",k+"px").text(b+" total: "+r.i(_.d)(A.count))}else T.select("text.tooltip-secondary").text("");var j=0,L=20;T.selectAll("text").each(function(){var e=d.select(this).node().getBoundingClientRect();e.width>j&&(j=e.width),L+=1.3*e.height}),j+=20,T.select("rect").attr("height",L+"px").attr("width",j+"px"),m&&v.attr("x1",function(){return R(m.year_month)}).attr("x2",function(){return R(m.year_month)});var N=5;if(n>=f-h.left-h.right-j&&(N=-j-N),m){var H=R(m.year_month)+h.left+N;H<0&&(H=0),T.attr("transform","translate("+H+", 20)")}}var n=this.props,i=n.entityType,c=n.keyReference,s=n.keyPrimary,o=n.keySecondary,l=n.primaryValues,u=n.secondaryValues,p=n.trendAggMonths,h=this.margin,m=this.getContainerSize(),f=m.width,E=d.select(this.svg),g=E.select("rect.tooltip-overlay"),T=E.select("g.tooltip"),v=E.select("g.g-parent").select("line.tooltip-line"),R=this.xScale,A=this.bisectDate,O=r.i(y.b)(i,s),b=r.i(y.b)(i,o),D=this.referenceValuesAggregated,C=this.primaryValuesAggregated,w=this.secondaryValuesAggregated;g.on("mouseover",function(){T.attr("visibility","visible"),v.attr("visibility","visible")}).on("mouseout",function(){T.attr("visibility","hidden"),v.attr("visibility","hidden")}).on("mousemove",a)}},{key:"resizeChart",value:function(){var e=this,t=this.getContainerSize(),r=t.width,a=t.height,n=this.margin,i=this.xScale,c=this.yScale,s=this.yScale2,o=this.yAxis,l=this.yAxis2,u=this.xAxis,p=d.select(this.svg),h=p.select("g.g-parent"),m=h.transition().duration(750);p.attr("width",r+n.left+n.right).attr("height",a+n.bottom+n.top),h.attr("transform","translate("+n.left+", "+n.top+")"),h.select("defs").select("clipPath").select("rect").attr("y",-2).attr("width",r).attr("height",a+2),i.range([0,r]),c.range([a,0]),s.range([a,0]),u.scale(i),o.scale(c),l.scale(s),this.lineGenerator.x(function(e){return i(e.year_month)}).y(function(e){return c(e.count)}),m.select("g.y.axis").call(o),m.select("g.y2.axis").attr("transform","translate("+r+", 0)").call(l),m.select("g.x.axis").attr("transform","translate(0, "+a+")").call(u),m.select("g.x.grid").attr("transform","translate(0, "+a+")").call(this.gridlinesX().tickSize(-a).tickFormat("")),m.select("g.y.grid").call(this.gridlinesY().tickSize(-r).tickFormat("")),h.selectAll(".line").transition(m).attr("d",function(t){return e.lineGenerator(t.values)}).attr("stroke",function(e){return e.color}),h.selectAll(".line-citywide").transition(m).attr("d",function(t){return e.lineGenerator2(t)}),h.select("rect.tooltip-overlay").attr("width",r).attr("height",a),h.select("line.tooltip-line").attr("x1",0).attr("x2",0).attr("y1",0).attr("y2",a),this.initTooltips()}},{key:"aggregateCrashSeries",value:function(e){var t=this.props.trendAggMonths;if(1===t)return e;var r=e.slice();r.reverse();var a=[];return h()(r,t).forEach(function(e){e.reverse();var t={year_month:e[e.length-1].year_month,start_date:e[0].year_month,end_date:e[e.length-1].year_month,blocklength:e.length,count:e[0].count,cyclist_injured:e[0].cyclist_injured,cyclist_killed:e[0].cyclist_killed,motorist_injured:e[0].motorist_injured,motorist_killed:e[0].motorist_killed,pedestrian_injured:e[0].pedestrian_injured,pedestrian_killed:e[0].pedestrian_killed};void 0!==t.count&&(t.count=e.reduce(function(e,t){return e+t.count},0)),void 0!==t.cyclist_injured&&(t.cyclist_injured=e.reduce(function(e,t){return e+t.cyclist_injured},0)),void 0!==t.cyclist_killed&&(t.cyclist_killed=e.reduce(function(e,t){return e+t.cyclist_killed},0)),void 0!==t.pedestrian_injured&&(t.pedestrian_injured=e.reduce(function(e,t){return e+t.pedestrian_injured},0)),void 0!==t.pedestrian_killed&&(t.pedestrian_killed=e.reduce(function(e,t){return e+t.pedestrian_killed},0)),void 0!==t.motorist_injured&&(t.motorist_injured=e.reduce(function(e,t){return e+t.motorist_injured},0)),void 0!==t.motorist_killed&&(t.motorist_killed=e.reduce(function(e,t){return e+t.motorist_killed},0)),a.push(t)}),a.reverse(),a}},{key:"updateChart",value:function(){var e=this.props,t=e.primaryValues,r=e.secondaryValues,n=e.referenceValues,i=e.keyPrimary,c=e.keySecondary,s=e.primaryColor,o=e.secondaryColor,l=e.period,u=e.startDate,p=e.endDate,h=this.getContainerSize(),m=h.width,_=h.height,y=this.xScale,f=this.yScale,E=this.yScale2,g=this.xAxis,T=this.yAxis,v=this.yAxis2,R=this.lineGenerator,A=this.lineGenerator2,O=d.select(this.svg),b=O.select("g.g-parent");this.referenceValuesAggregated=this.aggregateCrashSeries(n),this.primaryValuesAggregated=this.aggregateCrashSeries(t),this.secondaryValuesAggregated=this.aggregateCrashSeries(r);var D=this.referenceValuesAggregated.map(function(e){return e.count}),C=this.primaryValuesAggregated.map(function(e){return e.count}),w=this.secondaryValuesAggregated.map(function(e){return e.count}),k=Math.max(Math.max.apply(Math,a(D)),Math.max.apply(Math,a(C)),Math.max.apply(Math,a(w))),j=Math.max(Math.max.apply(Math,a(C)),Math.max.apply(Math,a(w))),L=[{values:this.primaryValuesAggregated,key:i,color:s},{values:this.secondaryValuesAggregated,key:c,color:o}],N=b.transition().duration(750).ease(d.easeLinear);y.domain([u,p]),f.domain([0,j]),E.domain([0,k]),R.x(function(e){return y(e.year_month)}).y(function(e){return f(e.count)}),A.x(function(e){return y(e.year_month)}).y(function(e){return E(e.count)}),N.select("g.y.axis").call(T),N.select("g.y2.axis").call(v),N.select("g.x.axis").call(g),N.select("g.x.grid").call(this.gridlinesX().tickSize(-_).tickFormat("")),N.select("g.y.grid").call(this.gridlinesY().tickSize(-m).tickFormat("")),b.selectAll(".line-citywide").data([this.referenceValuesAggregated]).transition(N).attr("d",function(e){return A(e)}),b.datum(L,function(e){return e.key});var H=b.selectAll(".line").data(function(e){return e});H.exit().transition(N).attr("stroke-opacity",0).remove(),H.transition(N).attr("d",function(e){return R(e.values)}).attr("stroke",function(e){return e.color}).attr("clip-path","url(#clip-"+l+")"),H.enter().append("path").attr("class","line").attr("d",function(e){return R(e.values)}).attr("stroke",function(e){return e.color}).attr("stroke-opacity",1),this.initTooltips()}},{key:"initChart",value:function(){var e=this,t=this.props,r=t.period,a=t.referenceValues,n=t.y2Max,i=t.startDate,c=t.endDate,s=this.props,o=s.primaryColor,l=s.referenceColor,u=this.getContainerSize(),p=u.width,h=u.height,m=this.margin,_=this.xScale,y=this.yScale,f=this.yScale2,E=this.yAxis,g=this.yAxis2,T=this.xAxis,v=d.select(this.svg),R=.66*h+20,A=p+m.left+m.right-20;v.attr("width",p+m.left+m.right).attr("height",h+m.top+m.bottom),y.range([h,0]).domain([0,0]),f.range([h,0]).domain([0,n]),_.range([0,p]).domain([i,c]),T.scale(_),E.scale(y),g.scale(f),this.yAxisLabel1=v.append("g").attr("transform","translate(15, "+R+")").append("text").attr("transform","rotate(-90)").attr("fill",o).attr("font-size","15px").attr("letter-spacing",.1).text(""),this.yAxisLabel2=v.append("g").attr("transform","translate("+A+", "+R+")").append("text").attr("transform","rotate(-90)").attr("fill",l).attr("font-size","15px").attr("letter-spacing",.1).text("");var O=v.append("g").attr("class","g-parent").attr("transform","translate("+m.left+", "+m.top+")");O.append("defs").append("clipPath").attr("id","clip-"+r).append("rect").attr("y",-2).attr("width",p).attr("height",h+2),O.append("g").attr("class","grid x").attr("transform","translate(0, "+h+")").call(this.gridlinesX().tickSize(-h-m.top-m.bottom).tickFormat("")),O.append("g").attr("class","grid y").call(this.gridlinesY().tickSize(-p).tickFormat("")),O.append("g").attr("class","y axis").call(E),O.append("g").attr("class","y2 axis").attr("transform","translate("+p+", 0)").call(g),O.append("g").attr("class","x axis").attr("transform","translate(0, "+h+")").call(T.ticks(5)),O.append("rect").classed("tooltip-overlay",!0).attr("pointer-events","all").attr("fill","none").attr("width",p).attr("height",h),O.selectAll(".line-reference").data([a]).enter().append("path").attr("class","line-citywide").attr("d",function(t){return e.lineGenerator2(t)}).attr("stroke",l).attr("opacity",.7).attr("clip-path","url(#clip-"+r+")");var b=v.append("g").classed("tooltip",!0);b.append("rect").attr("fill","rgb(35, 35, 35)").attr("fill-opacity",.8).attr("rx",4).attr("ry",4),b.append("text").classed("tooltip-date",!0),b.append("text").classed("tooltip-ref",!0),b.append("text").classed("tooltip-primary",!0),b.append("text").classed("tooltip-secondary",!0),O.append("line").classed("tooltip-line",!0).attr("visibility","hidden").attr("x1",0).attr("x2",0).attr("y1",0).attr("y2",h)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{ref:function(t){e.container=t},className:"LineChart"},o.a.createElement("svg",{ref:function(t){e.svg=t}}))}}]),t}(s.Component);E.propTypes={appHeight:u.a.number.isRequired,appWidth:u.a.number.isRequired,period:u.a.string.isRequired,entityType:u.a.string,keyPrimary:m.c,keySecondary:m.c,keyReference:m.c,citywide:u.a.arrayOf(u.a.object),primaryValues:u.a.arrayOf(u.a.object),secondaryValues:u.a.arrayOf(u.a.object),referenceValues:u.a.arrayOf(u.a.object),startDate:m.j,endDate:m.j,trendAggMonths:u.a.number.isRequired,primaryColor:u.a.string.isRequired,secondaryColor:u.a.string.isRequired,referenceColor:u.a.string.isRequired,yMax:u.a.number,y2Max:u.a.number},E.defaultProps={entityType:"",keyPrimary:"",keySecondary:"",keyReference:"",primaryValues:[],secondaryValues:[],referenceValues:[],citywide:[],startDate:{},endDate:{},yMax:0,y2Max:0};var g=E;t.a=g,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(E,"LineChart","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/LineCharts/LineChart.jsx"),__REACT_HOT_LOADER__.register(g,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/LineCharts/LineChart.jsx"))}()},368:function(e,t,r){"use strict";var a=r(1),n=r.n(a),i=r(3),c=r.n(i),s=r(17),o=r(22),l=function(e){var t=e.title,a=e.startDate,i=e.endDate,c=e.children,s=r.i(o.f)(a,i),l=s>1?"months":"month";return n.a.createElement("div",{className:"LineChartTitle"},n.a.createElement("span",null,n.a.createElement("h6",null,t),n.a.createElement("h6",null,r.i(o.c)(a),"  ",r.i(o.c)(i)," (",s," ",l,")")),c)};l.propTypes={title:c.a.string.isRequired,startDate:s.k.isRequired,endDate:s.k.isRequired,children:c.a.element},l.defaultProps={children:null};var u=l;t.a=u,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(l,"LineChartTitle","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/LineCharts/LineChartTitle.jsx"),__REACT_HOT_LOADER__.register(u,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/LineCharts/LineChartTitle.jsx"))}()},369:function(e,t,r){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=r(1),l=r.n(o),u=r(3),d=r.n(u),p=r(45),h=(r.n(p),r(19)),m=r(24),_=r(386),y=r(389),f=r(22),E=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),g=function(e){var t=e.dateRanges,r=e.trendAggMonths;return{periodA:t.period1,periodB:t.period2,trendAggMonths:r}},T=function(e){function t(){i(this,t);var e=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={period1Y:[],period2Y:[],period1Y2:[],period2Y2:[]},e.setPeriodYValue=e.setPeriodYValue.bind(e),e.handleChangeAggMonths=e.handleChangeAggMonths.bind(e),e}return s(t,e),E(t,[{key:"setPeriodYValue",value:function(e,t){t&&t.length&&this.setState(n({},e,t))}},{key:"handleChangeAggMonths",value:function(e){var t=parseInt(e.target.value,10);this.props.setTrendAggregation(t)}},{key:"render",value:function(){var e=this.state,t=e.period1Y,n=e.period2Y,i=e.period1Y2,c=e.period2Y2,s=this.props.trendAggMonths,o=this.props,u=o.periodA,d=o.periodB,h={height:"100%",width:"100%"},m=[].concat(a(t),a(n)),E=[].concat(a(i),a(c)),g=r.i(p.max)(m,function(e){return e.count}),T=r.i(p.max)(E,function(e){return e.count}),v=l.a.createElement("span",{className:"TrendMonthsAggSelector"},l.a.createElement("label",{htmlFor:"trend-months-agg-selector"},"AGGREGATE EVERY"),l.a.createElement("select",{id:"trend-months-agg-selector",value:s,onChange:this.handleChangeAggMonths},l.a.createElement("option",{value:"1"},"Month"),l.a.createElement("option",{value:"3"},"3 Months"),l.a.createElement("option",{value:"6"},"6 Months"),l.a.createElement("option",{value:"12"},"12 Months"))),R="",A="",O=null;return u&&d&&(R=r.i(f.e)(u.startDate),A=r.i(f.e)(d.startDate)),R!==A&&(O=l.a.createElement("div",{className:"PeriodsNotEqualWarning"},"It's best to select two periods starting in the same month.")),l.a.createElement("div",{className:"LineChartsContainer scroll",style:h},l.a.createElement(_.a,{period:"period1",yMax:g,y2Max:T,setMaxY:this.setPeriodYValue,trendAggMonths:parseInt(s,10)},v,l.a.createElement(y.a,null)),O,l.a.createElement(_.a,{period:"period2",yMax:g,y2Max:T,setMaxY:this.setPeriodYValue,trendAggMonths:parseInt(s,10)}))}}]),t}(o.Component);T.propTypes={trendAggMonths:d.a.number.isRequired,setTrendAggregation:d.a.func.isRequired,periodA:d.a.shape({endDate:d.a.instanceOf(Date),startDate:d.a.instanceOf(Date)}),periodB:d.a.shape({endDate:d.a.instanceOf(Date),startDate:d.a.instanceOf(Date)})},T.defaultProps={periodA:{},periodB:{}};var v=r.i(h.b)(g,{setTrendAggregation:m.setTrendAggregation,setDateRangeGroupOne:m.setDateRangeGroupOne,setDateRangeGroupTwo:m.setDateRangeGroupTwo})(T);t.a=v,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(g,"mapStateToProps","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/LineCharts/LineChartsContainer.jsx"),__REACT_HOT_LOADER__.register(T,"LineChartsContainer","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/LineCharts/LineChartsContainer.jsx"),__REACT_HOT_LOADER__.register(v,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/LineCharts/LineChartsContainer.jsx"))}()},370:function(e,t,r){"use strict";var a=r(1),n=r.n(a),i=r(3),c=r.n(i),s=r(340),o=function(e){return n.a.createElement(s.a,e)},l=function(e){var t=e.message,r=e.showSpinner;return n.a.createElement("div",{className:"Message"},r&&n.a.createElement(o,{className:"SvgSpinner",width:"25",height:"25"}),n.a.createElement("h5",null,t))};l.propTypes={showSpinner:c.a.bool,message:c.a.string.isRequired},l.defaultProps={showSpinner:!1};var u=l;t.a=u,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"SvgSpinner","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/Message.jsx"),__REACT_HOT_LOADER__.register(l,"Message","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/Message.jsx"),__REACT_HOT_LOADER__.register(u,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/Message.jsx"))}()},371:function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=r(1),s=r.n(c),o=r(3),l=r.n(o),u=r(88),d=r.n(u),p=r(17),h=r(87),m=r.n(h),_=r(22),y=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),f=function(e){function t(){a(this,t);var e=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.container=null,e}return i(t,e),y(t,[{key:"renderSVG",value:function(){var e=this.props,t=e.entity,r=e.svgWidth,a=e.svgHeight,n=e.strokeWidth,i=e.path,c=t.key,o=m.a["sparkline-color-1"],l=m.a["sparkline-color-2"],u=m.a["sparkline-color-3"];return s.a.createElement("svg",{width:r,height:a},s.a.createElement("defs",null,s.a.createElement("linearGradient",{id:"gradient-"+c,x1:"0",y1:"0",x2:"0",y2:"1"},s.a.createElement("stop",{offset:"0%",stopColor:o}),s.a.createElement("stop",{offset:"50%",stopColor:l}),s.a.createElement("stop",{offset:"100%",stopColor:u})),s.a.createElement("mask",{id:"mask-"+c,x:"0",y:"0",width:Math.floor(r+2*n),height:a+2*n},s.a.createElement("path",{fill:"none",strokeWidth:n,stroke:"#ffeda0",d:i}))),s.a.createElement("g",{transform:"translate(0, "+n+")"},s.a.createElement("rect",{x:"0",y:-n,width:r,height:a,style:{stroke:"none",fill:'url("#gradient-'+c+'")',mask:'url("#mask-'+c+'")'}})))}},{key:"render",value:function(){var e=this,t=this.props,a=t.entity,n=t.entityLabel,i=t.entityType,c=this.props,o=c.rankTotal,l=c.primaryKey,u=c.secondaryKey,p=c.handleClick,h=a.key,m=a.rank,y=a.totalInjured,f=a.totalKilled,E=d()({RankCard:!0,"primary-active":h===l,"secondary-active":h===u}),g=s.a.createElement("span",null,n);if("intersection"===i){var T=n.match(/^([^,]+), (.+)$/);g=s.a.createElement("span",null,T[1],s.a.createElement("br",null),s.a.createElement("span",null,T[2]))}return s.a.createElement("div",{className:E,ref:function(t){e.container=t},onClick:function(){return p(h)}},s.a.createElement("h6",null,s.a.createElement("span",{className:"rank-pos"},m)," / ",o),s.a.createElement("h6",{className:"rank-entity-type"},g),s.a.createElement("p",null,r.i(_.d)(y)+" injuries, "+r.i(_.d)(f)+" fatalities"),this.renderSVG())}}]),t}(c.Component);f.propTypes={entity:p.h,entityType:l.a.string,entityLabel:l.a.string,idLabel:l.a.string,handleClick:l.a.func.isRequired,rankTotal:l.a.number,strokeWidth:l.a.number.isRequired,svgWidth:l.a.number,svgHeight:l.a.number,chartHeight:l.a.number,primaryKey:p.c,secondaryKey:p.c,path:l.a.string},f.defaultProps={entity:{},entityType:"",entityLabel:"",idLabel:"",rankTotal:null,svgWidth:null,svgHeight:null,chartHeight:null,primaryKey:null,secondaryKey:null,path:""};var E=f;t.a=E,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(f,"RankCard","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/RankCards/RankCard.jsx"),__REACT_HOT_LOADER__.register(E,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/RankCards/RankCard.jsx"))}()},372:function(e,t,r){"use strict";var a=r(1),n=r.n(a),i=r(3),c=r.n(i),s=r(22),o=function(e){var t=e.handleRankClick,a=e.handleNameClick,i=e.dateRanges;return n.a.createElement("div",{className:"RankCardsControls"},n.a.createElement("div",{className:"rank-controls-copy scroll"},n.a.createElement("p",null,'We calculate rank by adding up the crashes based on the settings in the "Filter by Type" menu at right. Then we sort on the number of injuries, then the number of fatalities, for each geographic area over the past 24 months, ending with the most recently completed month. To see two areas on other chart views, select them and then click Trend or Compare.')),n.a.createElement("div",{className:"rank-controls-dates-sort"},n.a.createElement("div",{className:"rank-controls-date-range"},i&&n.a.createElement("h6",null,r.i(s.c)(i.startDate)+"  "+r.i(s.c)(i.endDate))),n.a.createElement("div",{className:"rank-controls-btns"},n.a.createElement("h6",null,"Sort by:"),n.a.createElement("button",{onClick:function(){return a()}},"Name"),n.a.createElement("button",{onClick:function(){return t()}},"Rank"))))};o.propTypes={handleRankClick:c.a.func.isRequired,handleNameClick:c.a.func.isRequired,dateRanges:c.a.shape({})},o.defaultProps={dateRanges:null};var l=o;t.a=l,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"RankCardsControls","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/RankCards/RankCardsControls.jsx"),__REACT_HOT_LOADER__.register(l,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/RankCards/RankCardsControls.jsx"))}()},373:function(e,t,r){"use strict";var a=r(1),n=r.n(a),i=r(388),c=function(){return n.a.createElement("div",{className:"RankCardsContainer"},n.a.createElement(i.a,null))};t.a=c,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(c,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/RankCards/index.jsx")}()},374:function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=r(1),s=r.n(c),o=r(3),l=r.n(o),u=r(760),d=r.n(u),p=r(88),h=r.n(p),m=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),_=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={opened:e.isOpened},r.handleOpenClose=r.handleOpenClose.bind(r),r}return i(t,e),m(t,[{key:"handleOpenClose",value:function(){this.props.collapsable&&this.setState(function(e){return{opened:!e.opened}})}},{key:"render",value:function(){var e=this,t=this.props,r=t.children,a=t.collapsable,n=t.collapseHeight,i=t.optionsContainerHeight,c=t.ruledLine,o=t.scroll,l=t.title,u=t.className,p=t.onMeasure,m=this.state.opened,_=n>0?n:void 0,y=h()(u,{"options-container":!0,collapsable:a,opened:m}),f=h()({"options-container-collapsable":!0,scroll:o});return s.a.createElement("section",{className:y,style:{height:i}},s.a.createElement("div",{className:"options-container-header",onClick:function(){return e.handleOpenClose()}},s.a.createElement("h6",{className:"options-container-title"},l),a&&s.a.createElement("span",{className:"options-container-collapse-icon"},m?"":"+"),c?s.a.createElement("hr",null):null),s.a.createElement(d.a,{className:f,isOpened:m,fixedHeight:_,onMeasure:p},r))}}]),t}(c.Component);_.propTypes={children:l.a.oneOfType([l.a.element,l.a.array]).isRequired,className:l.a.string,collapsable:l.a.bool,collapseHeight:l.a.number,isOpened:l.a.bool,optionsContainerHeight:l.a.number,ruledLine:l.a.bool,scroll:l.a.bool,title:l.a.string.isRequired,onMeasure:l.a.func},_.defaultProps={className:"",collapsable:!0,collapseHeight:0,isOpened:!0,optionsContainerHeight:null,ruledLine:!1,scroll:!1,onMeasure:function(){}};var y=_;t.a=y,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(_,"OptionsContainer","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/Sidebar/OptionsContainer.jsx"),__REACT_HOT_LOADER__.register(y,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/Sidebar/OptionsContainer.jsx"))}()},375:function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=r(1),s=r.n(c),o=r(3),l=r.n(o),u=r(390),d=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),p=function(e){function t(){a(this,t);var e=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleChange=e.handleChange.bind(e),e}return i(t,e),d(t,[{key:"handleChange",value:function(e){this.props.filterEntitiesByName(e.target.value)}},{key:"render",value:function(){var e=this.props,t=e.entityType,r=e.filterTerm,a=e.sparkLineListHeight,n=t.replace(/_/," ");switch(t){case"assembly":case"senate":n+=" districts";break;default:n+="s"}return s.a.createElement("div",{className:"SelectAreasController"},s.a.createElement("div",{className:"select-areas-controls"},s.a.createElement("input",{placeholder:"Search "+n,value:r,onChange:this.handleChange,type:"text"})),s.a.createElement(u.a,{sparkLineListHeight:a}))}}]),t}(c.Component);p.propTypes={entityType:l.a.string,filterTerm:l.a.string,sparkLineListHeight:l.a.number,filterEntitiesByName:l.a.func.isRequired},p.defaultProps={entityType:"",filterTerm:"",sparkLineListHeight:null};var h=p;t.a=h,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(p,"SelectAreasController","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/Sidebar/SelectAreasController.jsx"),__REACT_HOT_LOADER__.register(h,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/Sidebar/SelectAreasController.jsx"))}()},376:function(e,t,r){"use strict";function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=r(1),o=r.n(s),l=r(3),u=r.n(l),d=r(375),p=r(374),h=r(382),m=r(383),_=r(384),y=r(381),f=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),E=function(e){function t(){n(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={filterByTypeHeight:null,filterByVehicleHeight:null,filterByBoundaryHeight:null,filterByCustomAreaHeight:null},e.sidebar=null,e.sparklineList=null,e.updateCollapsedHeight=e.updateCollapsedHeight.bind(e),e.onMeasure=e.onMeasure.bind(e),e}return c(t,e),f(t,[{key:"onMeasure",value:function(e){var t=e.height;return e.width,t}},{key:"updateCollapsedHeight",value:function(e,t){this.setState(a({},e,t))}},{key:"computeSparkLineListHeight",value:function(){var e=this.state.filterByTypeHeight,t=this.state.filterByVehicleHeight,r=this.state.filterByBoundaryHeight,a=this.state.filterByCustomAreaHeight;return this.sidebar?this.sidebar.offsetHeight-e-t-r-a-150:null}},{key:"render",value:function(){var e=this,t=this.props,r=t.entityType,a=t.filterTerm,n=t.filterEntitiesByName,i=this.computeSparkLineListHeight();return o.a.createElement("div",{className:"Sidebar",ref:function(t){e.sidebar=t}},o.a.createElement("div",null,o.a.createElement("h6",{style:{textTransform:"uppercase",fontWeight:500}},"Chart Options")),o.a.createElement("hr",null),o.a.createElement(p.a,{title:"Filter By Crash Type",onMeasure:function(t){var r=t.height;return e.updateCollapsedHeight("filterByTypeHeight",r)}},o.a.createElement(m.a,null)),o.a.createElement("hr",null),o.a.createElement(p.a,{title:"Filter By Vehicle Type Involved",onMeasure:function(t){var r=t.height;return e.updateCollapsedHeight("filterByVehicleHeight",r)}},o.a.createElement(_.a,null)),o.a.createElement("hr",null),o.a.createElement(p.a,{title:"Custom Area",onMeasure:function(t){var r=t.height;return e.updateCollapsedHeight("filterByCustomAreaHeight",r)}},o.a.createElement(h.a,null)),o.a.createElement("hr",null),o.a.createElement(p.a,{title:"Filter By Boundary",onMeasure:function(t){var r=t.height;return e.updateCollapsedHeight("filterByBoundaryHeight",r)}},o.a.createElement("div",{className:"FilterByBoundary"},o.a.createElement(y.a,{entityType:r}))),o.a.createElement("hr",null),o.a.createElement(p.a,{title:"Select Areas (Up to Two)",collapsable:!1,optionsContainerHeight:i,collapseHeight:i},o.a.createElement(d.a,{entityType:r,filterTerm:a,sparkLineListHeight:i,filterEntitiesByName:n})))}}]),t}(s.Component);E.propTypes={entityType:u.a.string,filterTerm:u.a.string,filterEntitiesByName:u.a.func.isRequired},E.defaultProps={entityType:"",filterTerm:""};var g=E;t.a=g,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(E,"Sidebar","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/Sidebar/index.jsx"),__REACT_HOT_LOADER__.register(g,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/Sidebar/index.jsx"))}()},377:function(e,t,r){"use strict";var a=r(45),n=(r.n(a),function(e,t){function r(e){if(a.event.sourceEvent&&a.event.selection){var t=a.event.selection.map(m.invert),r=t.map(a.timeMonth.round);r[0]>=r[1]&&(r[0]=a.timeMonth.floor(t[0]),r[1]=a.timeMonth.offset(r[0])),a.select(this).transition().call(a.event.target.move,r.map(m)),e&&"function"==typeof e&&e(r)}}function n(e){var t=a.brushX().extent([[0,0],[p,h]]).on("brush end",function(){var t=a.select(this),n=t.node().querySelector("rect.selection"),i=+n.getAttribute("width"),c=+n.getAttribute("x"),s=t.select("text");s.node()&&s.attr("x",c+i/2-36).attr("y",h/2+5),r(e)});return g.push({id:g.length,brush:t}),t}function i(e){m.range([0,p]),f=a.select(e).append("g").attr("transform","translate("+d.left+", "+d.top+")"),f.append("rect").attr("class","grid-background").attr("width",p).attr("height",h),f.append("g").attr("class","x grid").attr("transform","translate(0, "+h+")").call(_).selectAll(".tick").classed("minor",function(e){return e.getMonth()}),f.append("g").attr("class","x axis").attr("transform","translate(0, "+h+")").call(y).selectAll("text").attr("x",0).attr("y",10).style("text-anchor",null),E=f.append("g").attr("class","brushes"),n(s),n(o),E.selectAll(".brush").data(g,function(e){return e.id}).enter().insert("g",".brush").attr("class","brush").attr("id",function(e){return"brush-"+e.id}).each(function(e){e.brush(a.select(this));var t=a.select(this),r=t.node().querySelector("rect.selection"),n=+r.getAttribute("width"),i=+r.getAttribute("x"),c=t.insert("text",":first-child");c.attr("x",i+n/2-36).attr("y",h/2+5).attr("class","brush-label"),0===e.id?(e.brush.move(a.select(this),[m(l.startDate),m(l.endDate)]),c.text("Period A")):(e.brush.move(a.select(this),[m(u.startDate),m(u.endDate)]),c.text("Period B"))}),a.selectAll(".overlay").style("pointer-events","none")}var c=arguments,s=e.onBrushOneEnd,o=e.onBrushTwoEnd,l=t.dateRangeOne,u=t.dateRangeTwo,d={top:0,right:0,bottom:50,left:0},p=960-d.left-d.right,h=80-d.top-d.bottom,m=a.scaleTime().domain([new Date(2011,7,1),new Date]),_=a.axisBottom().scale(m).ticks(a.timeMonth.every(2)).tickSize(-h).tickFormat(""),y=a.axisBottom().scale(m).ticks(a.timeYear.every(1)).tickPadding(0),f=null,E=null,g=[],T=function(e){if(!c.length)return h;h=e-d.top-d.bottom};return{init:i,getSetWidth:function(e){if(!c.length)return p;p=e-d.left-d.right},getSetHeight:T,resize:function(e){var t=e.dateRangeOne,r=e.dateRangeTwo,a=f.transition().duration(750);m.range([0,p]),_.scale(m),y.scale(m),a.select(".grid-background").attr("width",p),a.select(".x.grid").call(_),a.select(".x.axis").call(y).selectAll("text").attr("x",0).attr("y",10).style("text-anchor",null),g.forEach(function(e){e.brush.extent([[0,0],[p,h]]),0===e.id?e.brush.move(a.select("#brush-0"),[m(t.startDate),m(t.endDate)]):e.brush.move(a.select("#brush-1"),[m(r.startDate),m(r.endDate)])})}}});t.a=n,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(n,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/components/TimeLineD3.js")}()},378:function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=r(1),s=r.n(c),o=r(19),l=r(3),u=r.n(l),d=r(45),p=(r.n(d),r(237)),h=r.n(p),m=r(24),_=r(58),y=r(131),f=r(17),E=r(360),g=r(376),T=r(369),v=r(356),R=r(373),A=r(391),O=r(372),b=r(385),D=r(370),C=r(354),w=r(361),k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},j=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();window.d3=d;var L=function(e){function t(){return a(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),j(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.entityType,r=e.customGeography,a=e.filterVehicle;this.props.fetchEntityData(t,a),r.length&&this.props.fetchEntityData("custom",a,r),this.props.fetchEntityData("citywide",a),this.props.fetchEntityData("borough",a)}},{key:"componentWillReceiveProps",value:function(e){var t=e.entityData,r=e.entityType,a=e.isFetchingData,n=e.filterVehicle,i=e.citywideData,c=e.boroughData;r!==this.props.entityType&&this.props.entityData.length&&!t.length&&0===a&&this.props.fetchEntityData(r,n),h()(n.vehicle,this.props.filterVehicle.vehicle)||this.props.fetchEntityData(r,n),!i.response&&this.props.citywideData.response&&0===a&&this.props.fetchEntityData("citywide",n),!c.response&&this.props.boroughData&&0===a&&this.props.fetchEntityData("borough",n)}},{key:"renderChartView",value:function(){var e=this.props,t=e.chartView,r=e.dateRanges,a=e.entityType,n=e.keyPrimary,i=e.keySecondary,c=this.props.customGeography,o=this.props.width;switch(t){case"trend":return s.a.createElement(T.a,null);case"compare":return s.a.createElement(v.a,{dateRanges:r,entityType:a,keyPrimary:n,keySecondary:i,width:o,customGeography:c});case"rank":return s.a.createElement(R.a,{entityType:a});case"about":return s.a.createElement(C.a,null);case"help":return s.a.createElement(w.a,null);default:return null}}},{key:"renderChartArea",value:function(){var e=this.props,t=e.isFetchingData,r=e.anyFilterTypeSelected;return t>0?s.a.createElement(D.a,{message:"Loading data...",showSpinner:!0}):r?this.renderChartView():s.a.createElement(D.a,{message:"Select one or more crash filter types"})}},{key:"render",value:function(){var e=this.props,t=e.chartView,r=e.dateRangesRank,a=e.entityType,n=e.sortEntitiesByRank,i=e.sortEntitiesByName,c=e.filterEntitiesByName,o=e.filterTerm;return s.a.createElement("div",{className:"App grid-container"},s.a.createElement("div",{className:"grid-left"},s.a.createElement("div",{className:"header"},s.a.createElement(E.a,null)),s.a.createElement("div",{className:"timeline"},"rank"===t?s.a.createElement(O.a,{handleNameClick:i,handleRankClick:n,dateRanges:r}):s.a.createElement(A.a,null)),s.a.createElement("div",{className:"detailchart"},this.renderChartArea()),s.a.createElement("div",{className:"legend"},s.a.createElement(b.a,null))),s.a.createElement("div",{className:"grid-right"},s.a.createElement(g.a,{entityType:a,filterTerm:o,filterEntitiesByName:c})))}}]),t}(c.Component);L.propTypes={entityData:u.a.arrayOf(u.a.object),chartView:f.a.isRequired,dateRanges:f.b.isRequired,dateRangesRank:u.a.shape({}),isFetchingData:u.a.number.isRequired,fetchEntityData:u.a.func.isRequired,setEntityType:u.a.func.isRequired,entityType:u.a.string,filterTerm:u.a.string,keyPrimary:f.c,keySecondary:f.c,filterType:f.d.isRequired,filterVehicle:f.e.isRequired,anyFilterTypeSelected:u.a.bool.isRequired,setDateRangeGroupOne:u.a.func.isRequired,setDateRangeGroupTwo:u.a.func.isRequired,sortEntitiesByName:u.a.func.isRequired,sortEntitiesByRank:u.a.func.isRequired,filterEntitiesByName:u.a.func.isRequired,width:u.a.number.isRequired,customGeography:f.f.isRequired,citywideData:f.g,boroughData:f.g},L.defaultProps={dateRangesRank:null,entityData:[],entitiesNested:[],entityType:"",filterTerm:"",keyPrimary:"",keySecondary:""};var N=function(e){var t=e.browser,a=e.chartView,n=e.dateRanges,i=e.entities,c=e.data,s=e.filterType,o=e.filterVehicle,l=e.customGeography,u=c.isFetchingData,d=c.citywide,p=c.borough,h=r.i(_.a)(e),m=!1;return Object.keys(s).forEach(function(e){if("noInjuryFatality"!==e){var t=s[e];Object.keys(t).forEach(function(e){t[e]&&(m=!0)})}}),{width:t.width,height:t.height,dateRangesRank:h.response.length?r.i(y.a)(e):null,dateRanges:n,isFetchingData:u,entityData:h.response,entityType:i.entityType,keyPrimary:i.primary.key,keySecondary:i.secondary.key,filterType:s,filterVehicle:o,filterTerm:i.filterTerm,chartView:a,anyFilterTypeSelected:m,customGeography:l,citywideData:d,boroughData:p}},H=r.i(o.b)(N,k({},m))(L);t.a=H,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(L,"App","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/containers/App.jsx"),__REACT_HOT_LOADER__.register(N,"mapStateToProps","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/containers/App.jsx"),__REACT_HOT_LOADER__.register(H,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/containers/App.jsx"))}()},379:function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=r(1),s=r.n(c),o=r(19),l=r(3),u=r.n(l),d=r(22),p=r(17),h=r(58),m=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},y=function(e,t){var a=e.filterType,n=t.entityType,i=t.period,c=r.i(h.d)(e,t),s="period1"===i?"period2":"period1",o=_({},t,{period:s}),l=_({},e);l.entities.reference="citywide";var u=[],d=[];switch(n){case"primary":d=r.i(h.e)(e,t),u=r.i(h.e)(e,o);break;case"secondary":d=r.i(h.f)(e,t),u=r.i(h.f)(e,o);break;case"citywide":d=r.i(h.g)(l,t),u=r.i(h.g)(l,o);break;case"custom":d=r.i(h.h)(e,t),u=r.i(h.h)(e,o);break;default:throw new Error("DotGridSums got unexpected entityType")}var p=d.reduce(function(e,t){var r=0;return void 0!==t.pedestrian_injured&&(r+=t.pedestrian_injured),void 0!==t.cyclist_injured&&(r+=t.cyclist_injured),void 0!==t.motorist_injured&&(r+=t.motorist_injured),e+r},0),m=d.reduce(function(e,t){var r=0;return void 0!==t.pedestrian_killed&&(r+=t.pedestrian_killed),void 0!==t.cyclist_killed&&(r+=t.cyclist_killed),void 0!==t.motorist_killed&&(r+=t.motorist_killed),e+r},0),y=u.reduce(function(e,t){var r=0;return void 0!==t.pedestrian_injured&&(r+=t.pedestrian_injured),void 0!==t.cyclist_injured&&(r+=t.cyclist_injured),void 0!==t.motorist_injured&&(r+=t.motorist_injured),e+r},0),f=u.reduce(function(e,t){var r=0;return void 0!==t.pedestrian_killed&&(r+=t.pedestrian_killed),void 0!==t.cyclist_killed&&(r+=t.cyclist_killed),void 0!==t.motorist_killed&&(r+=t.motorist_killed),e+r},0);return{filterType:a,startDate:c.startDate,endDate:c.endDate,period:i,entityType:n,totalinjured:p,totalkilled:m,otherinjured:y,otherkilled:f}},f=function(e){function t(){return a(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),m(t,[{key:"render",value:function(){var e=this.props,t=e.totalinjured,a=e.totalkilled,n=this.props,i=n.otherinjured,c=n.otherkilled,o=this.props.period,l=100*(a-c)/c,u=100*(t-i)/i,p="",h="";return"period1"===o&&(p=c===a?"No change":"<1% change",h=i===t?"No change":"<1% change",Math.abs(l)>=1&&(p=(l>0?"+":"-")+Math.round(Math.abs(l)).toFixed(0)+"% change"),Math.abs(u)>=1&&(h=(u>0?"+":"-")+Math.round(Math.abs(u)).toFixed(0)+"% change")),s.a.createElement("div",{className:"DotGridSums"},s.a.createElement("h6",null,r.i(d.d)(a)," killed",s.a.createElement("br",null),s.a.createElement("span",{className:"DotGridPercent"},p)),s.a.createElement("h6",null,r.i(d.d)(t)," injured",s.a.createElement("br",null),s.a.createElement("span",{className:"DotGridPercent"},h)))}}]),t}(c.Component);f.propTypes={entityType:p.c.isRequired,filterType:p.d.isRequired,period:u.a.string.isRequired,startDate:p.k.isRequired,endDate:p.k.isRequired,totalinjured:u.a.number.isRequired,totalkilled:u.a.number.isRequired,otherinjured:u.a.number.isRequired,otherkilled:u.a.number.isRequired},f.defaultProps={values:[],otherinjured:void 0,otherkilled:void 0};var E=r.i(o.b)(y,null)(f);t.a=E,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(y,"mapStateToProps","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/containers/DotGridSums.jsx"),__REACT_HOT_LOADER__.register(f,"DotGridSums","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/containers/DotGridSums.jsx"),__REACT_HOT_LOADER__.register(E,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/containers/DotGridSums.jsx"))}()},380:function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=r(1),s=r.n(c),o=r(19),l=r(3),u=r.n(l),d=r(45),p=(r.n(d),r(266)),h=r.n(p),m=r(17),_=r(58),y=r(355),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},E=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),g=function(e,t){var a=e.browser,n=e.filterType,i=t.entityType,c=t.period,s=t.personType,o=r.i(_.d)(e,t),l=[];switch(i){case"primary":l=r.i(_.e)(e,t);break;case"secondary":l=r.i(_.f)(e,t);break;case"citywide":l=r.i(_.g)(e,t);break;case"custom":l=r.i(_.h)(e,t);break;default:throw new Error("DotGridWrapper got unexpected entityType")}return{appWidth:a.width,filterType:n,startDate:o.startDate,endDate:o.endDate,period:c,personType:s,entityType:i,values:l}},T=function(e){function t(){a(this,t);var e=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={valuesTransformed:{}},e.chartContainer=null,e}return i(t,e),E(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.values,r=e.filterType;t.length&&this.groupEntityData(r,t)}},{key:"componentWillReceiveProps",value:function(e){var t=e.appWidth,r=e.values,a=e.filterType,n=e.startDate,i=e.endDate;r.length&&(this.props.values.length&&n===this.props.startDate&&i===this.props.endDate&&h()(a,this.props.filterType)&&t===this.props.appWidth||this.groupEntityData(a,r)),!r.length&&this.props.values.length&&this.setState({valuesTransformed:{}})}},{key:"getContainerSize",value:function(){var e=this.chartContainer.clientWidth-10;return{height:this.chartContainer.clientHeight-40,width:e}}},{key:"groupEntityData",value:function(e,t){var r=this.props,a=r.radius,n=r.strokeWidth,i=r.personType,c=this.getContainerSize().width,s=c,o=i+"_injured",l=i+"_killed",u=[o,l],p=Object.keys(t[0]).filter(function(e){return u.includes(e)});if(p.length){var h=t.map(function(e){return Object.keys(e).filter(function(e){return u.includes(e)}).reduce(function(t,r){return t[r]=e[r],t},{})}),m=p.includes(o)?d.sum(h,function(e){return e[o]}):0,_=p.includes(l)?d.sum(h,function(e){return e[l]}):0,y=0;y=m&&_?m+_:m&&!_?m:_;var f=Math.floor(s/(3*a)),E=Math.floor(y/f),g=E*a*3+2*(a+n),T=s,v=d.range(y).map(function(e){return{x:e%f*a*3,y:Math.floor(e/f)*a*3}});this.setState({valuesTransformed:{filtered:h,injuredTotal:m,killedTotal:_,harmedTotal:y,columns:f,rows:E,gridHeight:g,gridWidth:T,grid:v}})}else this.setState({valuesTransformed:{}})}},{key:"render",value:function(){var e=this,t=this.props,r=t.radius,a=t.strokeWidth,n=t.personType,i=this.state.valuesTransformed,c="citywide"!==this.props.entityType;return s.a.createElement("div",{className:"DotGridWrapper",ref:function(t){e.chartContainer=t}},s.a.createElement(y.a,f({data:i,drawdots:c},{radius:r,strokeWidth:a,personType:n})))}}]),t}(c.Component);T.propTypes={appWidth:u.a.number.isRequired,entityType:m.c.isRequired,customGeography:m.f,filterType:m.d.isRequired,period:u.a.string.isRequired,values:u.a.arrayOf(u.a.object),startDate:m.k.isRequired,endDate:m.k.isRequired,subheadHeights:u.a.shape({cyclist:u.a.number,motorist:u.a.number,pedestrian:u.a.number}),radius:u.a.number,strokeWidth:u.a.number,title:u.a.string,personType:u.a.string.isRequired},T.defaultProps={values:[],customGeography:[],subheadHeights:{},radius:5,strokeWidth:1,title:""};var v=r.i(o.b)(g,null)(T);t.a=v,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(g,"mapStateToProps","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/containers/DotGridWrapper.jsx"),__REACT_HOT_LOADER__.register(T,"DotGridWrapper","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/containers/DotGridWrapper.jsx"),__REACT_HOT_LOADER__.register(v,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/containers/DotGridWrapper.jsx"))}()},381:function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=r(1),s=r.n(c),o=r(3),l=r.n(o),u=r(19),d=r(24),p=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),h=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),i=e.entityType;return r.state={value:i},r.handleChange=r.handleChange.bind(r),r}return i(t,e),p(t,[{key:"shouldComponentUpdate",value:function(e){return e.entityType!==this.props.entityType}},{key:"handleChange",value:function(e){this.props.setEntityType(e.target.value)}},{key:"render",value:function(){var e=this.props.entityType,t=[{value:"borough",label:"Borough"},{value:"community_board",label:"Community Board"},{value:"city_council",label:"City Council"},{value:"assembly",label:"Assembly District"},{value:"senate",label:"Senate District"},{value:"neighborhood",label:"Neighborhood (NTA)"},{value:"nypd_precinct",label:"NYPD Precinct"},{value:"intersection",label:"Intersection"}];return s.a.createElement("select",{value:e,onChange:this.handleChange},t.map(function(e){return s.a.createElement("option",{key:e.value,value:e.value},e.label)}))}}]),t}(c.Component);h.propTypes={entityType:l.a.string.isRequired,setEntityType:l.a.func.isRequired};var m=function(e){return{entityType:e.entities.entityType}},_=r.i(u.b)(m,{setEntityType:d.setEntityType})(h);t.a=_,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(h,"FilterByBoundary","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/containers/FilterByBoundary.jsx"),__REACT_HOT_LOADER__.register(m,"mapStateToProps","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/containers/FilterByBoundary.jsx"),__REACT_HOT_LOADER__.register(_,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/containers/FilterByBoundary.jsx"))}()},382:function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e){var t=e.customGeography,a=e.dateRanges,n=e.filterType,i=a.period1,c=n.injury,s=n.fatality;return{endDate:r.i(m.b)(i.endDate),startDate:r.i(m.b)(i.startDate),cinj:c.cyclist,minj:c.motorist,pinj:c.pedestrian,cfat:s.cyclist,mfat:s.motorist,pfat:s.pedestrian,customGeography:t}}var s=r(1),o=r.n(s),l=r(3),u=r.n(l),d=r(19),p=r(122),h=r.n(p),m=r(22),_=r(17),y=r(194),f=r(24),E=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),g=function(e){function t(){return a(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),E(t,[{key:"clickClearButton",value:function(){this.props.clearCustomGeography(),this.props.setReferenceEntity("citywide")}},{key:"render",value:function(){var e=this,t=h.a.stringify({endDate:this.props.endDate,startDate:this.props.startDate,cinj:this.props.cinj,minj:this.props.minj,pinj:this.props.pinj,cfat:this.props.cfat,mfat:this.props.mfat,pfat:this.props.pfat,geo:"custom"}),r="http://crashmapper.org/#/?"+t,a=this.props.customGeography.length?null:o.a.createElement("ul",{className:"filter-list"},o.a.createElement("li",null,o.a.createElement("button",{className:"med filter-options-button roboto-medium"},o.a.createElement("a",{href:r,className:"active"},"draw area")))),n=this.props.customGeography.length?o.a.createElement("ul",{className:"filter-list"},o.a.createElement("li",null,o.a.createElement("button",{className:"med filter-options-button roboto-medium",onClick:function(){return e.clickClearButton()}},"clear area"))):null;return o.a.createElement("div",{className:"filter-by-type"},a,n)}}]),t}(s.Component);g.propTypes={customGeography:_.f.isRequired,clearCustomGeography:u.a.func.isRequired,setReferenceEntity:u.a.func.isRequired,endDate:u.a.string.isRequired,startDate:u.a.string.isRequired,cinj:u.a.bool.isRequired,minj:u.a.bool.isRequired,pinj:u.a.bool.isRequired,cfat:u.a.bool.isRequired,mfat:u.a.bool.isRequired,pfat:u.a.bool.isRequired},g.defaultProps={geo:null,identifier:null};var T=r.i(d.b)(c,{clearCustomGeography:y.b,setReferenceEntity:f.setReferenceEntity})(g);t.a=T,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(g,"FilterByCustomArea","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/containers/FilterByCustomArea.jsx"),__REACT_HOT_LOADER__.register(c,"mapStateToProps","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/containers/FilterByCustomArea.jsx"),__REACT_HOT_LOADER__.register(T,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/containers/FilterByCustomArea.jsx"))}()},383:function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=r(1),s=r.n(c),o=r(3),l=r.n(o),u=r(19),d=r(24),p=r(17),h=r(197),m=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),_=function(e){return{filterType:e.filterType}},y=function(e){function t(){a(this,t);var e=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleInjuryFilter=e.handleInjuryFilter.bind(e),e.handleFatalityFilter=e.handleFatalityFilter.bind(e),e}return i(t,e),m(t,[{key:"handleInjuryFilter",value:function(e){(0,this.props.filterByTypeInjury)(e)}},{key:"handleFatalityFilter",value:function(e){(0,this.props.filterByTypeFatality)(e)}},{key:"render",value:function(){var e=this.props,t=e.filterType,r=(e.filterByTypeFatality,e.filterByTypeInjury,e.filterByNoInjFat,t.injury),a=t.fatality;return s.a.createElement("div",{className:"filter-by-type"},s.a.createElement("ul",{className:"filter-list"},s.a.createElement("li",null,s.a.createElement(h.a,{label:"cyclist fatality",id:"cyclist",handleClick:this.handleFatalityFilter,btnSize:"med",isActive:a.cyclist})),s.a.createElement("li",null,s.a.createElement(h.a,{label:"motorist fatality",id:"motorist",handleClick:this.handleFatalityFilter,btnSize:"med",isActive:a.motorist})),s.a.createElement("li",null,s.a.createElement(h.a,{label:"pedestrian fatality",id:"pedestrian",handleClick:this.handleFatalityFilter,btnSize:"med",isActive:a.pedestrian}))),s.a.createElement("ul",{className:"filter-list"},s.a.createElement("li",null,s.a.createElement(h.a,{label:"cyclist injury",id:"cyclist",handleClick:this.handleInjuryFilter,btnSize:"med",isActive:r.cyclist})),s.a.createElement("li",null,s.a.createElement(h.a,{label:"motorist injury",id:"motorist",handleClick:this.handleInjuryFilter,btnSize:"med",isActive:r.motorist})),s.a.createElement("li",null,s.a.createElement(h.a,{label:"pedestrian injury",id:"pedestrian",handleClick:this.handleInjuryFilter,btnSize:"med",isActive:r.pedestrian}))))}}]),t}(c.Component);y.propTypes={filterByTypeInjury:l.a.func.isRequired,filterByTypeFatality:l.a.func.isRequired,filterByNoInjFat:l.a.func.isRequired,filterType:p.d.isRequired};var f=r.i(u.b)(_,{filterByTypeFatality:d.filterByTypeFatality,filterByTypeInjury:d.filterByTypeInjury,filterByNoInjFat:d.filterByNoInjFat})(y);t.a=f,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(_,"mapStateToProps","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/containers/FilterByType.jsx"),__REACT_HOT_LOADER__.register(y,"FilterByType","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/containers/FilterByType.jsx"),__REACT_HOT_LOADER__.register(f,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/containers/FilterByType.jsx"))}()},384:function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=r(1),s=r.n(c),o=r(3),l=r.n(o),u=r(19),d=r(24),p=r(17),h=r(197),m=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),_=function(e){return{filterVehicle:e.filterVehicle}},y=function(e){function t(){a(this,t);var e=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.toggleVehicleFilter=e.toggleVehicleFilter.bind(e),e}return i(t,e),m(t,[{key:"toggleVehicleFilter",value:function(e){this.props.filterByVehicle(e)}},{key:"render",value:function(){var e=this.props.filterVehicle,t=e.vehicle;return s.a.createElement("div",{className:"filter-by-type"},s.a.createElement("ul",{className:"filter-list"},s.a.createElement("li",null,s.a.createElement(h.a,{label:"car",id:"car",handleClick:this.toggleVehicleFilter,btnSize:"med",isActive:t.car})),s.a.createElement("li",null,s.a.createElement(h.a,{label:"truck",id:"truck",handleClick:this.toggleVehicleFilter,btnSize:"med",isActive:t.truck})),s.a.createElement("li",null,s.a.createElement(h.a,{label:"motorcycle-moped",id:"motorcycle",handleClick:this.toggleVehicleFilter,btnSize:"med",isActive:t.motorcycle})),s.a.createElement("li",null,s.a.createElement(h.a,{label:"bicycle",id:"bicycle",handleClick:this.toggleVehicleFilter,btnSize:"med",isActive:t.bicycle}))),s.a.createElement("ul",{className:"filter-list"},s.a.createElement("li",null,s.a.createElement(h.a,{label:"suv",id:"suv",handleClick:this.toggleVehicleFilter,btnSize:"med",isActive:t.suv})),s.a.createElement("li",null,s.a.createElement(h.a,{label:"bus-van",id:"busvan",handleClick:this.toggleVehicleFilter,btnSize:"med",isActive:t.busvan})),s.a.createElement("li",null,s.a.createElement(h.a,{label:"e-bike-scooter",id:"scooter",handleClick:this.toggleVehicleFilter,btnSize:"med",isActive:t.scooter})),s.a.createElement("li",null,s.a.createElement(h.a,{label:"other",id:"other",handleClick:this.toggleVehicleFilter,btnSize:"med",isActive:t.other}))))}}]),t}(c.Component);y.propTypes={filterByVehicle:l.a.func.isRequired,filterVehicle:p.e.isRequired};var f=r.i(u.b)(_,{filterByVehicle:d.filterByVehicle})(y);t.a=f,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(_,"mapStateToProps","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/containers/FilterByVehicle.jsx"),__REACT_HOT_LOADER__.register(y,"FilterByVehicle","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/containers/FilterByVehicle.jsx"),__REACT_HOT_LOADER__.register(f,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/containers/FilterByVehicle.jsx"))}()},385:function(e,t,r){"use strict";var a=r(19),n=r(24),i=r(366),c=function(e){var t=e.filterType,r=e.chartView;return{entities:e.entities,filterType:t,chartView:r}},s=r.i(a.b)(c,{deselectPrimaryEntity:n.deselectPrimaryEntity,deselectSecondaryEntity:n.deselectSecondaryEntity})(i.a);t.a=s,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(c,"mapStateToProps","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/containers/Legend.jsx"),__REACT_HOT_LOADER__.register(s,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/containers/Legend.jsx"))}()},386:function(e,t,r){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=r(1),o=r.n(s),l=r(19),u=r(3),d=r.n(u),p=r(266),h=r.n(p),m=r(87),_=r.n(m),y=r(17),f=r(58),E=r(367),g=r(368),T=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),v=function(e,t){var a=e.browser,n=e.entities,i=e.filterType,c=a.height,s=a.width,o=r.i(f.d)(e,t);return{appHeight:c,appWidth:s,startDate:o.startDate,endDate:o.endDate,entityType:n.entityType,keyPrimary:n.primary.key,keySecondary:n.secondary.key,keyReference:n.reference,primaryValues:r.i(f.e)(e,t),secondaryValues:r.i(f.f)(e,t),referenceValues:r.i(f.g)(e,t),primaryAllDates:r.i(f.i)(e,t),secondaryAllDates:r.i(f.j)(e,t),referenceAllDates:r.i(f.k)(e,t),colorPrimary:n.primary.color,colorSecondary:n.secondary.color,yMax:t.yMax,y2Max:t.y2Max,filterType:i}},R=function(e){function t(){return n(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return c(t,e),T(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.keyPrimary,r=e.keySecondary,n=e.keyReference,i=e.primaryValues,c=e.secondaryValues,s=e.referenceValues,o=e.period,l=e.setMaxY;(t&&i.length||r&&c.length)&&l(o+"Y",[].concat(a(i),a(c))),n&&s.length&&l(o+"Y2",s)}},{key:"componentWillReceiveProps",value:function(e){var t=e.keyPrimary,r=e.keySecondary,n=e.keyReference,i=e.primaryValues,c=e.secondaryValues,s=e.referenceValues,o=e.startDate,l=e.endDate,u=e.filterType,d=this.props,p=d.period,m=d.setMaxY;(t!==this.props.keyPrimary||r!==this.props.keySecondary||o!==this.props.startDate||l!==this.props.endDate||!h()(u,this.props.filterType)||i.length&&!this.props.primaryValues.length||c.length&&!this.props.secondaryValues.length)&&m(p+"Y",[].concat(a(i),a(c))),(n!==this.props.keyReference||o!==this.props.startDate||l!==this.props.endDate||!h()(u,this.props.filterType)||s.length&&!this.props.referenceValues.length)&&m(p+"Y2",s)}},{key:"render",value:function(){var e=this.props,t=e.appHeight,r=e.appWidth,a=e.children,n=e.period,i=e.entityType,c=e.primaryAllDates,s=e.secondaryAllDates,l=e.referenceAllDates,u=e.keyPrimary,d=e.keySecondary,p=e.keyReference,h=e.colorPrimary,m=e.colorSecondary,y=e.startDate,f=e.endDate,T=e.trendAggMonths,v=e.yMax,R=e.y2Max,A="period1"===n?"Period A":"Period B";return o.a.createElement("div",{className:"LineChartWrapper"},o.a.createElement(g.a,{title:A,startDate:y,endDate:f},a),o.a.createElement(E.a,{appHeight:t,appWidth:r,period:n,entityType:i,keyPrimary:u,keySecondary:d,keyReference:p,primaryValues:c,secondaryValues:s,referenceValues:l,primaryColor:h,secondaryColor:m,referenceColor:_.a["reference-color"],startDate:y,endDate:f,trendAggMonths:T,yMax:v,y2Max:R}))}}]),t}(s.Component);R.propTypes={appHeight:d.a.number.isRequired,appWidth:d.a.number.isRequired,children:d.a.element,period:d.a.string.isRequired,entityType:d.a.string,keyPrimary:y.c,keySecondary:y.c,keyReference:y.c,primaryValues:d.a.arrayOf(d.a.object),secondaryValues:d.a.arrayOf(d.a.object),referenceValues:d.a.arrayOf(d.a.object),primaryAllDates:d.a.arrayOf(d.a.object),secondaryAllDates:d.a.arrayOf(d.a.object),referenceAllDates:d.a.arrayOf(d.a.object),colorPrimary:d.a.string.isRequired,colorSecondary:d.a.string.isRequired,startDate:y.k.isRequired,endDate:y.k.isRequired,trendAggMonths:d.a.number.isRequired,yMax:d.a.number,y2Max:d.a.number,setMaxY:d.a.func.isRequired,filterType:y.d.isRequired},R.defaultProps={children:null,entityType:"",keyPrimary:"",keySecondary:"",keyReference:"",primaryValues:[],secondaryValues:[],referenceValues:[],primaryAllDates:[],secondaryAllDates:[],referenceAllDates:[],yMax:null,y2Max:null};var A=r.i(l.b)(v,null)(R);t.a=A,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(v,"mapStateToProps","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/containers/LineChartWrapper.jsx"),__REACT_HOT_LOADER__.register(R,"LineChartWrapper","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/containers/LineChartWrapper.jsx"),__REACT_HOT_LOADER__.register(A,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/containers/LineChartWrapper.jsx"))}()},387:function(e,t,r){"use strict";function a(e,t){var r={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r}function n(e){var t=e.chartView,a=e.entities,n=e.dateRanges,i=e.filterType,c=e.filterVehicle,s=e.customGeography,o=a.primary,l=a.entityType,u=n.period1,d=i.injury,h=i.fatality;return{chartView:t,geo:l,customGeography:s,cinj:d.cyclist,minj:d.motorist,pinj:d.pedestrian,cfat:h.cyclist,mfat:h.motorist,pfat:h.pedestrian,vcar:c.vehicle.car,vtruck:c.vehicle.truck,vmotorcycle:c.vehicle.motorcycle,vbicycle:c.vehicle.bicycle,vsuv:c.vehicle.suv,vbusvan:c.vehicle.busvan,vscooter:c.vehicle.scooter,vother:c.vehicle.other,endDate:r.i(p.b)(u.endDate),startDate:r.i(p.b)(u.startDate),identifier:o.key}}var i=r(1),c=r.n(i),s=r(19),o=r(3),l=r.n(o),u=r(122),d=r.n(u),p=r(22),h=r(17),m=r(24),_=function(e){var t=e.chartView,r=(e.toggleChartView,a(e,["chartView","toggleChartView"]),e.customGeography),n={cinj:e.cinj,minj:e.minj,pinj:e.pinj,cfat:e.cfat,mfat:e.mfat,pfat:e.pfat,vcar:e.vcar,vtruck:e.vtruck,vmotorcycle:e.vmotorcycle,vbicycle:e.vbicycle,vsuv:e.vsuv,vbusvan:e.vbusvan,vscooter:e.vscooter,vother:e.vother,endDate:e.endDate,startDate:e.startDate};r.length?(n.geo="custom",n.lngLats=encodeURIComponent(JSON.stringify(r))):(n.geo=e.geo,n.identifier=e.identifier,n.zoom=11,n.lat=40.7048,n.lng=-73.8967);var i=d.a.stringify(n),s=[{type:"link",value:"http://crashmapper.org/#/?"+i,label:"Map"},{type:"view",value:"trend",label:"Trend"},{type:"view",value:"compare",label:"Compare"},{type:"view",value:"rank",label:"Rank"},{type:"view",value:"about",label:"About"},{type:"view",value:"help",label:"Help"}],o=function(r){r!==t&&e.toggleChartView(r)},l=function(e){var r=e.type,a=t===e.value?"active":null;switch(r){case"link":return c.a.createElement("a",{href:e.value,className:a},e.label);case"view":case"about":return c.a.createElement("button",{className:a,onClick:function(){return o(e.value)}},e.label);default:return c.a.createElement("button",{onClick:function(){}},e.label)}};return c.a.createElement("ul",{className:"Menu"},s.map(function(e){return c.a.createElement("li",{key:e.label},l(e))}))};_.propTypes={toggleChartView:l.a.func.isRequired,chartView:h.a.isRequired,geo:l.a.string,customGeography:h.f.isRequired,cinj:l.a.bool.isRequired,minj:l.a.bool.isRequired,pinj:l.a.bool.isRequired,cfat:l.a.bool.isRequired,mfat:l.a.bool.isRequired,pfat:l.a.bool.isRequired,endDate:l.a.string.isRequired,startDate:l.a.string.isRequired,identifier:h.c},_.defaultProps={geo:"",identifier:""};var y=r.i(s.b)(n,{toggleChartView:m.toggleChartView})(_);t.a=y,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(n,"mapStateToProps","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/containers/Menu.jsx"),__REACT_HOT_LOADER__.register(_,"Menu","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/containers/Menu.jsx"),__REACT_HOT_LOADER__.register(y,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/containers/Menu.jsx"))}()},388:function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=r(1),s=r.n(c),o=r(3),l=r.n(o),u=r(19),d=r(45),p=(r.n(d),r(58)),h=r(131),m=r(196),_=r(17),y=r(87),f=r.n(y),E=r(75),g=r(371),T=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),v=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.renderRankCards=r.renderRankCards.bind(r),r.handleRankCardClick=r.handleRankCardClick.bind(r),r.container=null,r}return i(t,e),T(t,[{key:"getContainerSize",value:function(){var e=this.container?this.container.getBoundingClientRect():null,t=e?Math.floor(e.width)-20:0;return{height:e?Math.floor(e.height)-40:0,width:t}}},{key:"handleRankCardClick",value:function(e){r.i(m.a)(e,this.props)}},{key:"filterListItems",value:function(e){var t=this.props.filterTerm;return e&&""!==t&&(e=e.filter(function(e){var r=e.props,a=r.entity;return-1!==(r.entityLabel+" "+a.key).toLowerCase().indexOf(t.toLowerCase())})),e}},{key:"sortListItems",value:function(e){var t=this.props,r=t.sortAsc,a=t.sortRank,n=t.sortName;a&&!r&&e&&e.sort(function(e,t){return e.props.entity.rank>t.props.entity.rank?1:e.props.entity.rank<t.props.entity.rank?-1:0}),a&&r&&e&&e.sort(function(e,t){return e.props.entity.rank>t.props.entity.rank?-1:e.props.entity.rank<t.props.entity.rank?1:0}),n&&!r&&e&&e.sort(function(e,t){return e.props.entity.key>t.props.entity.key?1:e.props.entity.key<t.props.entity.key?-1:0}),n&&r&&e&&e.sort(function(e,t){return e.props.entity.key>t.props.entity.key?-1:e.props.entity.key<t.props.entity.key?1:0})}},{key:"renderRankCards",value:function(){var e=this,t=this.props,a=t.appWidth,n=t.entityType,i=t.primary,c=t.secondary,o=t.ranked,l=(a-f.a["app-column-right"]-40-10)/4,u=Math.floor(l-10-20-2);if(!o.length)return null;var p=d.max(o,function(e){return e.rank}),h=d.scaleTime().range([0,u]).domain([d.min(o,function(e){return e.values[0].year_month}),d.max(o,function(e){return e.values[e.values.length-1].year_month})]),m=d.scaleLinear().range([46,2]).domain([0,d.max(o,function(e){return e.maxTotal})]),_=d.line().x(function(e){return h(e.year_month)}).y(function(e){return m(e.total)}).curve(d.curveMonotoneX);return o.map(function(t){var a=_(t.values);return s.a.createElement(g.a,{key:t.key,entity:t,entityType:n,entityLabel:r.i(E.b)(n,t.key),idLabel:r.i(E.a)(n,t.key),rankTotal:p,svgWidth:u,svgHeight:50,chartHeight:46,strokeWidth:2,primaryKey:i.key,secondaryKey:c.key,path:a,handleClick:e.handleRankCardClick})})}},{key:"render",value:function(){var e=this,t=this.renderRankCards();return t=this.filterListItems(t),this.sortListItems(t),s.a.createElement("div",{className:"RankCardsList scroll",ref:function(t){e.container=t}},t)}}]),t}(c.Component);v.propTypes={appWidth:l.a.number.isRequired,entityType:l.a.string,filterType:_.d.isRequired,primary:_.h.isRequired,secondary:_.h.isRequired,ranked:l.a.arrayOf(l.a.object).isRequired,response:l.a.arrayOf(l.a.object),filterTerm:l.a.string,sortName:l.a.bool.isRequired,sortRank:l.a.bool.isRequired,sortAsc:l.a.bool.isRequired,sparkLineListHeight:l.a.number,dispatch:l.a.func.isRequired},v.defaultProps={entityType:"",response:[],filterTerm:"",sparkLineListHeight:null};var R=function(e){var t=e.browser,a=e.entities,n=e.filterType,i=t.width,c=a.entityType,s=a.sortName,o=a.sortRank,l=a.sortAsc,u=a.filterTerm,d=r.i(p.a)(e),m=d.response;return{appWidth:i,entityType:c,sortName:s,sortRank:o,sortAsc:l,filterType:n,filterTerm:u,response:m,ranked:(m&&m.length?r.i(h.b)(e):null)||[],primary:a.primary,secondary:a.secondary}},A=function(e){return{dispatch:e}},O=r.i(u.b)(R,A)(v);t.a=O,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(v,"RankCardsList","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/containers/RankCardsList.jsx"),__REACT_HOT_LOADER__.register(R,"mapStateToProps","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/containers/RankCardsList.jsx"),__REACT_HOT_LOADER__.register(A,"mapDispatchToProps","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/containers/RankCardsList.jsx"),__REACT_HOT_LOADER__.register(O,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/containers/RankCardsList.jsx"))}()},389:function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=r(1),s=r.n(c),o=r(3),l=r.n(o),u=r(19),d=r(17),p=r(24),h=r(75),m=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),_=function(e){var t=e.entities,r=e.customGeography;return{reference:t.reference,customGeography:r}},y=function(e){function t(){a(this,t);var e=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleChange=e.handleChange.bind(e),e}return i(t,e),m(t,[{key:"handleChange",value:function(e){this.props.setReferenceEntity(e.target.value)}},{key:"render",value:function(){var e=this.props,t=e.reference,r=e.customGeography,a=[{value:"citywide",label:h.d.citywide},{value:"manhattan",label:h.d.manhattan},{value:"bronx",label:h.d.bronx},{value:"brooklyn",label:h.d.brooklyn},{value:"queens",label:h.d.queens},{value:"staten island",label:h.d["staten island"]}];return r.length&&a.push({value:"custom",label:h.d.custom}),s.a.createElement("div",{className:"ReferenceEntitySelect"},s.a.createElement("label",{htmlFor:"reference-select"},"Benchmark or custom area"),s.a.createElement("select",{id:"reference-select",value:t,onChange:this.handleChange},a.map(function(e){return s.a.createElement("option",{key:e.value,value:e.value},e.label)})))}}]),t}(c.Component);y.propTypes={reference:l.a.string.isRequired,setReferenceEntity:l.a.func.isRequired,customGeography:d.f.isRequired};var f=r.i(u.b)(_,{setReferenceEntity:p.setReferenceEntity})(y);t.a=f,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(_,"mapStateToProps","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/containers/ReferenceEntitySelect.jsx"),__REACT_HOT_LOADER__.register(y,"ReferenceEntitySelect","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/containers/ReferenceEntitySelect.jsx"),__REACT_HOT_LOADER__.register(f,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/containers/ReferenceEntitySelect.jsx"))}()},390:function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=r(1),s=r.n(c),o=r(3),l=r.n(o),u=r(19),d=r(88),p=r.n(d),h=r(188),m=r.n(h),_=r(24),y=r(196),f=r(58),E=r(131),g=r(17),T=r(75),v=r(195),R=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),A=function(e){var t=e.entities,a=e.filterType,n=t.entityType,i=t.filterTerm,c=r.i(f.a)(e),s=c.response;return{entityType:n,filterType:a,filterTerm:i,response:s,ranked:(s&&s.length?r.i(E.b)(e):null)||[],primary:t.primary,secondary:t.secondary}},O=function(e){return{dispatch:e,selectPrimaryEntity:function(t){return e(r.i(_.selectPrimaryEntity)(t))},selectSecondaryEntity:function(t){return e(r.i(_.selectSecondaryEntity)(t))}}},b=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.renderListItems=r.renderListItems.bind(r),r.handleListItemClick=r.handleListItemClick.bind(r),r}return i(t,e),R(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.secondary,r=e.primary,a=e.response,n=e.entityType;if(a.length&&!this.props.response.length){var i={};r.key&&(i.key=r.key,i.values=a.filter(function(e){return e[n]===r.key}),this.props.selectPrimaryEntity(i),this.rewritePrimaryIdentifierIfNecessary(e)),t.key&&(i.key=t.key,i.values=a.filter(function(e){return e[n]===t.key}),this.props.selectSecondaryEntity(i))}}},{key:"rewritePrimaryIdentifierIfNecessary",value:function(e){var t=this,a=e.primary,n=e.response,i=e.entityType,c="";"number"==typeof a.key?c=r.i(v.e)(i,a.key):"neighborhood"===i&&"string"==typeof a.key&&-1===a.key.indexOf(",")&&(c=r.i(v.e)(i,a.key)),c&&m()({method:"get",params:{q:c}}).then(function(e){if(e.data.rows){var r=e.data.rows[0].areaname,a={key:r,values:n.filter(function(e){return e[i]===r})};t.props.selectPrimaryEntity(a)}})}},{key:"filterListItems",value:function(e){var t=this.props.filterTerm;return e&&""!==t&&(e=e.filter(function(e){return-1!==e.props["data-search"].toLowerCase().indexOf(t.toLowerCase())})),e}},{key:"handleListItemClick",value:function(e){r.i(y.a)(e,this.props)}},{key:"renderListItems",value:function(){var e=this,t=this.props,a=t.entityType,n=t.primary,i=t.secondary,c=t.ranked;return t.response,c.length?c.sort(function(e,t){return"number"==typeof e.key?e.key-t.key:e.key>t.key?1:e.key<t.key?-1:0}).map(function(t){var c=t.key,o=r.i(T.a)(a,c),l=r.i(T.b)(a,c),u=p()({"select-areas-list-item":!0,"primary-active":c===n.key,"secondary-active":c===i.key});return s.a.createElement("li",{key:o,"data-search":""+l,className:u,onClick:function(){return e.handleListItemClick(c)}},s.a.createElement("h6",{style:{padding:0}},l))}):null}},{key:"render",value:function(){var e=this.props.sparkLineListHeight,t=this.renderListItems();return t=this.filterListItems(t),s.a.createElement("ul",{style:{height:e-110},className:"SelectAreasList scroll"},t)}}]),t}(c.Component);b.propTypes={entityType:l.a.string,filterType:g.d.isRequired,primary:g.h.isRequired,secondary:g.h.isRequired,ranked:l.a.arrayOf(l.a.object).isRequired,response:l.a.arrayOf(l.a.object),filterTerm:l.a.string,sparkLineListHeight:l.a.number,selectPrimaryEntity:l.a.func.isRequired,selectSecondaryEntity:l.a.func.isRequired},b.defaultProps={entityType:"",response:[],filterTerm:"",sparkLineListHeight:null};var D=r.i(u.b)(A,O)(b);t.a=D,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(A,"mapStateToProps","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/containers/SelectAreasList.jsx"),__REACT_HOT_LOADER__.register(O,"mapDispatchToProps","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/containers/SelectAreasList.jsx"),__REACT_HOT_LOADER__.register(b,"SelectAreasList","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/containers/SelectAreasList.jsx"),__REACT_HOT_LOADER__.register(D,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/containers/SelectAreasList.jsx"))}()},391:function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=r(1),s=r.n(c),o=r(3),l=r.n(o),u=r(19),d=r(24),p=r(377),h=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),m=function(e){function t(){a(this,t);var e=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.svg=null,e.timeline=null,e.container=null,e.width=0,e.height=0,e}return i(t,e),h(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dateRangeOne,a=e.dateRangeTwo,n={onBrushOneEnd:this.props.setDateRangeGroupOne,onBrushTwoEnd:this.props.setDateRangeGroupTwo},i={dateRangeOne:t,dateRangeTwo:a},c=this.container.getBoundingClientRect();this.width=c.width-40,this.height=c.height-42,this.svg.setAttribute("width",this.width),this.svg.setAttribute("height",this.height),this.timeline=r.i(p.a)(n,i),this.timeline.getSetWidth(this.width),this.timeline.init(this.svg)}},{key:"componentDidUpdate",value:function(e){this.timeline&&e.appWidth!==this.props.appWidth&&this.updateTimeLineD3()}},{key:"updateTimeLineD3",value:function(){var e=this.props,t=e.dateRangeOne,r=e.dateRangeTwo,a=this.container.getBoundingClientRect();this.width=a.width-40,this.svg.setAttribute("width",this.width),this.timeline.getSetWidth(this.width),this.timeline.resize({dateRangeOne:t,dateRangeTwo:r})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{ref:function(t){e.container=t},className:"TimeLine"},s.a.createElement("h6",{className:"title"},"Filter By Date Ranges"),s.a.createElement("svg",{ref:function(t){e.svg=t}}))}}]),t}(c.Component);m.propTypes={appWidth:l.a.number.isRequired,setDateRangeGroupOne:l.a.func.isRequired,setDateRangeGroupTwo:l.a.func.isRequired,dateRangeTwo:l.a.shape({endDate:l.a.instanceOf(Date),startDate:l.a.instanceOf(Date)}),dateRangeOne:l.a.shape({endDate:l.a.instanceOf(Date),startDate:l.a.instanceOf(Date)})},m.defaultProps={dateRangeOne:{},dateRangeTwo:{}};var _=function(e){var t=e.browser,r=e.dateRanges;return{appWidth:t.width,dateRangeOne:r.period1,dateRangeTwo:r.period2}},y=r.i(u.b)(_,{setDateRangeGroupOne:d.setDateRangeGroupOne,setDateRangeGroupTwo:d.setDateRangeGroupTwo})(m);t.a=y,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(m,"TimeLine","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/containers/TimeLine.jsx"),__REACT_HOT_LOADER__.register(_,"mapStateToProps","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/containers/TimeLine.jsx"),__REACT_HOT_LOADER__.register(y,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/containers/TimeLine.jsx"))}()},392:function(e,t,r){"use strict";var a=r(864),n=r.n(a),i=r(858),c=(r.n(i),r(237)),s=r.n(c),o=r(353),l=r(24),u=[n.a],d=function(e){return function(t){return function(a){var n=t(a),i=e.getState();return r.i(o.a)(i),n}}};u.push(d);var p=function(e){return function(t){return function(a){var n=e.getState(),i=n.filterVehicle,c=t(a),o=e.getState(),u=o.filterVehicle;return s()(i.vehicle,u.vehicle)||e.dispatch(r.i(l.clearEntitiesDataCache)()),c}}};u.push(p);var h=u;t.a=h,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(u,"middleware","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/middleware.js"),__REACT_HOT_LOADER__.register(d,"saveState","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/middleware.js"),__REACT_HOT_LOADER__.register(p,"maybeClearDataCache","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/middleware.js"),__REACT_HOT_LOADER__.register(h,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/middleware.js"))}()},393:function(e,t,r){"use strict";var a=r(20),n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"trend",t=arguments[1];switch(t.type){case a.c:return t.view;default:return e}};t.a=n,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(n,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/reducers/chartViewReducer.js")}()},394:function(e,t,r){"use strict";var a=r(20),n=[],i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;switch(arguments[1].type){case a.a:case a.b:return[];default:return e}};t.a=i,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(n,"defaultState","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/reducers/customGeographyReducer.js"),__REACT_HOT_LOADER__.register(i,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/reducers/customGeographyReducer.js"))}()},395:function(e,t,r){"use strict";function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var n=r(20),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},c={fetchError:null,isFetchingData:0,borough:{},city_council:{},citywide:{},community_board:{},neighborhood:{},assembly:{},senate:{},nypd_precinct:{},intersection:{},custom:{}},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1],r=e.isFetchingData;switch(t.type){case n.e:return r+=1,i({},e,{isFetchingData:r});case n.f:return r-=1,i({},e,a({isFetchingData:r},t.geo,i({},e[t.geo],{response:t.response})));case n.h:return i({},e,{fetchError:t.error});case n.g:return i({},c,{fetchError:e.fetchError,isFetchingData:e.isFetchingData});default:return e}};t.a=s,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(c,"defaultState","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/reducers/dataReducer.js"),__REACT_HOT_LOADER__.register(s,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/reducers/dataReducer.js"))}()},396:function(e,t,r){"use strict";var a=r(20),n=r(22),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},c={period1:{startDate:r.i(n.a)("2016-01"),endDate:r.i(n.a)("2017-01")},period2:{startDate:r.i(n.a)("2013-01"),endDate:r.i(n.a)("2014-01")}},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case a.i:return i({},e,{period1:{startDate:t.dates[0],endDate:t.dates[1]}});case a.j:return i({},e,{period2:{startDate:t.dates[0],endDate:t.dates[1]}});default:return e}};t.a=s,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(c,"defaultState","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/reducers/dateRangeReducer.js"),__REACT_HOT_LOADER__.register(s,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/reducers/dateRangeReducer.js"))}()},397:function(e,t,r){"use strict";function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var n=r(20),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},c={injury:{cyclist:!0,motorist:!0,pedestrian:!0},fatality:{cyclist:!1,motorist:!1,pedestrian:!1},noInjuryFatality:!1},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1],r=t.personType,s=e.injury,o=e.fatality;switch(t.type){case n.B:return i({},e,{injury:i({},s,a({},r,!s[r])),noInjuryFatality:!1});case n.C:return i({},e,{fatality:i({},o,a({},r,!o[r])),noInjuryFatality:!1});case n.D:return i({},c,{noInjuryFatality:!e.noInjuryFatality});default:return e}};t.a=s,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(c,"defaultState","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/reducers/filterByTypeReducer.js"),__REACT_HOT_LOADER__.register(s,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/reducers/filterByTypeReducer.js"))}()},398:function(e,t,r){"use strict";var a=r(20),n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},i={vehicle:{car:!0,truck:!0,motorcycle:!0,bicycle:!0,suv:!0,busvan:!0,scooter:!0,other:!0}},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1],r=e.vehicle;switch(t.type){case a.t:return n({},e,{vehicle:n({},r,{car:!r.car})});case a.u:return n({},e,{vehicle:n({},r,{truck:!r.truck})});case a.v:return n({},e,{vehicle:n({},r,{motorcycle:!r.motorcycle})});case a.w:return n({},e,{vehicle:n({},r,{bicycle:!r.bicycle})});case a.x:return n({},e,{vehicle:n({},r,{suv:!r.suv})});case a.y:return n({},e,{vehicle:n({},r,{busvan:!r.busvan})});case a.z:return n({},e,{vehicle:n({},r,{scooter:!r.scooter})});case a.A:return n({},e,{vehicle:n({},r,{other:!r.other})});default:return e}};t.a=c,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(i,"defaultState","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/reducers/filterByVehicleReducer.js"),__REACT_HOT_LOADER__.register(c,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/reducers/filterByVehicleReducer.js"))}()},399:function(e,t,r){"use strict";var a=r(187),n=r(315),i=r(397),c=r(398),s=r(198),o=r(395),l=r(396),u=r(393),d=r(400),p=r(394),h=r.i(n.c)({extraSmall:400,small:550,medium:750,large:1e3,extraLarge:1200},{extraFields:function(){return{width:window.innerWidth,height:window.innerHeight}}}),m=r.i(a.e)({browser:h,chartView:u.a,trendAggMonths:d.a,data:o.a,dateRanges:l.a,entities:s.b,filterType:i.a,filterVehicle:c.a,customGeography:p.a}),_=m;t.a=_,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(h,"browser","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/reducers/index.js"),__REACT_HOT_LOADER__.register(m,"rootReducer","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/reducers/index.js"),__REACT_HOT_LOADER__.register(_,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/reducers/index.js"))}()},400:function(e,t,r){"use strict";var a=r(20),n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments[1];switch(t.type){case a.d:return t.trendAggMonths;default:return e}};t.a=n,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(1,"defaultState","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/reducers/trendAggregationReducer.js"),__REACT_HOT_LOADER__.register(n,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/reducers/trendAggregationReducer.js"))}()},401:function(e,t,r){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function n(e){return r.i(i.b)(l.a,e,r.i(i.c)(i.d.apply(void 0,a(u.a)),r.i(c.a)(150)))}var i=r(187),c=r(315),s=r(721),o=r.n(s),l=r(399),u=r(392),d=r(352),p=r.i(d.a)(),h=n(p);window.addEventListener("resize",o()(function(){return h.dispatch(r.i(c.b)(window))},150));var m=h;t.a=m,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(n,"makeStore","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/store.js"),__REACT_HOT_LOADER__.register(p,"initialState","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/store.js"),__REACT_HOT_LOADER__.register(h,"store","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/store.js"),__REACT_HOT_LOADER__.register(m,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/store.js"))}()},58:function(e,t,r){"use strict";r.d(t,"c",function(){return i}),r.d(t,"a",function(){return c}),r.d(t,"d",function(){return s}),r.d(t,"b",function(){return l}),r.d(t,"i",function(){return E}),r.d(t,"j",function(){return g}),r.d(t,"k",function(){return T}),r.d(t,"e",function(){return R}),r.d(t,"f",function(){return A}),r.d(t,"g",function(){return O}),r.d(t,"h",function(){return b});var a=r(319),n=(r.n(a),function(e){return e.data}),i=function(e){return e.entities.entityType},c=r.i(a.createSelector)(n,i,function(e,t){return e[t]||(e[t]={}),e[t].response?e[t]:{response:[]}}),s=function(e,t){return"period1"===t.period?e.dateRanges.period1:e.dateRanges.period2},o=function(e){return e.filterType},l=r.i(a.createSelector)(o,function(e){var t={injury:{cyclist:"cyclist_injured",motorist:"motorist_injured",pedestrian:"pedestrian_injured"},fatality:{cyclist:"cyclist_killed",motorist:"motorist_killed",pedestrian:"pedestrian_killed"}},r=[];return Object.keys(e).forEach(function(a){Object.keys(e[a]).forEach(function(n){e[a][n]&&r.push(t[a][n])})}),r}),u=function(e){return e.entities.primary.values},d=function(e){return e.entities.secondary.values},p=function(e){return e.data.custom.response?e.data.custom.response:[]},h=function(e){var t=e.entities,r=t.reference;return"citywide"===r&&e.data.citywide.response?e.data.citywide.response:"custom"===r&&e.data.custom.response?e.data.custom.response:e.data.borough.response?e.data.borough.response.filter(function(e){return e.borough.toLowerCase()===r}):[]},m=function(e){return"reference"===e?h:"custom"===e?p:"primary"===e?u:"secondary"===e?d:function(){}},_=function(e){return r.i(a.createSelector)(s,m(e),function(e,t){var r=e.startDate,a=e.endDate;return t.filter(function(e){return+e.year_month>=+r&&+e.year_month<=+a})})},y=function(e,t){return e.reduce(function(e,r){var a=r.year_month,n={};return n.count=0,n.year_month=a,Object.keys(r).filter(function(e){return t.includes(e)}).forEach(function(e){n.count+=r[e],n[e]=r[e]}),e.push(n),e},[])},f=function(e){return r.i(a.createSelector)(m(e),l,y)},E=f("primary"),g=f("secondary"),T=f("reference"),v=function(e){return r.i(a.createSelector)(_(e),l,y)},R=v("primary"),A=v("secondary"),O=v("reference"),b=v("custom");!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(n,"entityAllDataSelector","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reduxSelectors.js"),__REACT_HOT_LOADER__.register(i,"entityTypeSelector","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reduxSelectors.js"),__REACT_HOT_LOADER__.register(c,"entityDataSelector","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reduxSelectors.js"),__REACT_HOT_LOADER__.register(s,"dateRangesSelector","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reduxSelectors.js"),__REACT_HOT_LOADER__.register(o,"filterTypeSelector","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reduxSelectors.js"),__REACT_HOT_LOADER__.register(l,"filterTypeFieldsSelector","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reduxSelectors.js"),__REACT_HOT_LOADER__.register(u,"primaryEntityValuesSelector","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reduxSelectors.js"),__REACT_HOT_LOADER__.register(d,"secondaryEntityValuesSelector","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reduxSelectors.js"),__REACT_HOT_LOADER__.register(p,"customEntityValuesSelector","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reduxSelectors.js"),__REACT_HOT_LOADER__.register(h,"referenceEntityValuesSelector","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reduxSelectors.js"),__REACT_HOT_LOADER__.register(m,"entityValuesSelector","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reduxSelectors.js"),__REACT_HOT_LOADER__.register(_,"valuesByDateRangeSelector","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reduxSelectors.js"),__REACT_HOT_LOADER__.register(y,"reduceValuesByType","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reduxSelectors.js"),__REACT_HOT_LOADER__.register(f,"valuesFilteredByTypeSelector","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reduxSelectors.js"),__REACT_HOT_LOADER__.register(E,"primaryAllDatesSelector","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reduxSelectors.js"),__REACT_HOT_LOADER__.register(g,"secondaryAllDatesSelector","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reduxSelectors.js"),__REACT_HOT_LOADER__.register(T,"referenceAllDatesSelector","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reduxSelectors.js"),__REACT_HOT_LOADER__.register(v,"valuesFilteredByDateTypeSelector","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reduxSelectors.js"),__REACT_HOT_LOADER__.register(R,"primaryEntityValuesFilteredSelector","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reduxSelectors.js"),__REACT_HOT_LOADER__.register(A,"secondaryEntityValuesFilteredSelector","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reduxSelectors.js"),__REACT_HOT_LOADER__.register(O,"referenceEntityValuesFilteredSelector","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reduxSelectors.js"),__REACT_HOT_LOADER__.register(b,"customGeographyValuesFilteredSelector","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/reduxSelectors.js"))}()},604:function(e,t){},620:function(e,t){e.exports={name:"nyc-crash-mapper-chart-view",private:!0,version:"1.0.0",description:"Chart view prototype allowing for trend, compare, rank",main:"src/index.js",scripts:{start:"webpack-dev-server --open --config webpack.config.js",build:"npm run clean && webpack -p --progress --colors --config webpack.dist.config.js",clean:"rimraf dist","deploy:gh-pages":"npm run build && . ./deploy_gh_pages.sh",test:'echo "Error: no test specified" && exit 1'},repository:{type:"git",url:"git+https://github.com/GreenInfo-Network/nyc-crash-mapper-chart-view.git"},author:"Chris Henrick <chrishenrick@gmail.com>",license:"UNLICENSED",bugs:{url:"https://github.com/GreenInfo-Network/nyc-crash-mapper-chart-viewissues"},homepage:"https://github.com/GreenInfo-Network/nyc-crash-mapper-chart-view#readme",browserslist:["defaults","not ie < 11"],dependencies:{axios:"^0.16.2","babel-polyfill":"^6.23.0",classnames:"^2.2.5",d3:"^4.10.0",lodash:"^4.17.4","lodash.chunk":"^4.2.0","lodash.isequal":"^4.5.0","prop-types":"^15.5.8","query-string":"^5.0.1",react:"^15.5.4","react-collapse":"^4.0.3","react-dom":"^15.5.4","react-hot-loader":"beta.7","react-motion":"^0.5.2","react-redux":"^5.0.6",redux:"^3.7.2","redux-logger":"^3.0.6","redux-responsive":"^4.3.2","redux-thunk":"^2.2.0",reselect:"^3.0.1","single-line-string":"^0.0.2"},devDependencies:{"@epegzz/sass-vars-loader":"^2.0.2",autoprefixer:"^7.1.2","babel-cli":"^6.24.1","babel-core":"^6.24.1","babel-eslint":"^7.2.3","babel-loader":"^7.0.0","babel-plugin-syntax-dynamic-import":"^6.18.0","babel-preset-es2015":"^6.24.1","babel-preset-react":"^6.24.1","babel-preset-stage-0":"^6.24.1","compression-webpack-plugin":"^0.4.0","copy-webpack-plugin":"^4.0.1","css-loader":"^0.28.0",eslint:"^4.4.1","eslint-config-airbnb":"^15.1.0","eslint-config-prettier":"^2.3.0","eslint-loader":"^1.7.1","eslint-plugin-babel":"^4.1.1","eslint-plugin-import":"^2.7.0","eslint-plugin-jsx-a11y":"^5.1.1","eslint-plugin-prettier":"^2.2.0","eslint-plugin-react":"^7.1.0","extract-text-webpack-plugin":"^2.1.0","file-loader":"^0.11.1","html-webpack-plugin":"^2.28.0","image-webpack-loader":"^3.3.0","node-sass":"^4.5.2",nodemon:"^1.11.0","postcss-loader":"^2.0.6",prettier:"^1.6.1","prettier-eslint":"^7.1.0",rimraf:"^2.6.1","sass-loader":"^6.0.3","style-loader":"^0.18.2","stylelint-config-standard":"^16.0.0","stylelint-webpack-plugin":"^0.7.0",svgr:"^1.0.0","uglifyjs-webpack-plugin":"^0.4.3","url-loader":"^0.5.9",webpack:"^2.4.1","webpack-dev-server":"^2.4.2","webpack-notifier":"^1.5.0"}}},75:function(e,t,r){"use strict";r.d(t,"c",function(){return n}),r.d(t,"a",function(){return i}),r.d(t,"b",function(){return c}),r.d(t,"d",function(){return s});var a=r(741),n=(r.n(a),function(e,t){var r=e.replace(/_/g," "),n=t?a.startCase(a.camelCase(r)):r;switch(e){case"nypd_precinct":return"NYPD Precinct";default:return n}}),i=function(e,t){if(t&&"community_board"===e){var r=t.toString().split(""),a=r.slice(1).join("");return[void 0,"Manhattan","Bronx","Brooklyn","Queens","Staten Island"][+r[0]]+" "+a}return t&&"intersection"===e?t.split("|")[1]:t&&"number"==typeof+t&&"0"!==t.toString().substr(0,1)?+t<10?"0"+t:t.toString():t?t.toString():t},c=function(e,t){return t&&"intersection"===e?t.split("|")[0]:t},s={citywide:"Citywide",custom:"Custom Geography",manhattan:"Manhattan",bronx:"The Bronx",brooklyn:"Brooklyn",queens:"Queens","staten island":"Staten Island"},o=n;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(n,"entityTypeDisplay","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/labelFormatters.js"),__REACT_HOT_LOADER__.register(i,"entityIdDisplay","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/labelFormatters.js"),__REACT_HOT_LOADER__.register(c,"entityNameDisplay","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/labelFormatters.js"),__REACT_HOT_LOADER__.register(s,"REFERENCE_ENTITY_NAMES","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/labelFormatters.js"),__REACT_HOT_LOADER__.register(o,"default","/Users/danrademacher/Documents/GINlocalcode/nyc-crash-mapper-chart-view/src/common/labelFormatters.js"))}()},87:function(e,t){e.exports={"app-column-right":300,"primary-color":"#FDB462","secondary-color":"#F08273","reference-color":"#AFE2CE","rank-legend-width":170,"sparkline-color-1":"#f0f9e8","sparkline-color-2":"#bae4bc","sparkline-color-3":"#7bccc4","linechart-tooltip-w":150,"linechart-tooltip-h":50}},875:function(e,t,r){e.exports=r.p+"1e47d6e0e055633a915fff8f3f27b5e5.jpg"},876:function(e,t,r){e.exports=r.p+"6eb782b2eefc07994fa49e487ecab465.png"},877:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASAAAAAeCAYAAACMhMPpAAAAAXNSR0IArs4c6QAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAABIKADAAQAAAABAAAAHgAAAAB+DfDPAAAL90lEQVR4Ae2dC7BVVRnH77n3goRCPCOEG3cQlBrLB5moEVopZjHRAxmnTCzKzGpMrcnMGWsIMYQsQCqF0hhRIR80DNk4lASCQniVp4BwIV6KhA/wAZxz+/03e527zjp7n7PPveeIV9Y382et77G+tfZ/r7X24+w7pKq8eAY8A8c8A01NTSMhYZhDxCH0RjDQsW9Dz4D6PHsm07uqurqdY49Tl9TGebzdM+AZOKYY0OZzbc4RZzIbM01NT1bX1FyRY6+qWoF+GAyJsJ+AbZBjj1M7VMd5vN0z4BnwDFSaAb8BVZphn98z4BmIZcBvQLHUeIdnwDNQaQb8BlRphn1+z4BnIJYBvwHFUuMdngHPQKUZ8BtQpRn2+T0DnoFYBvwGFEuNd3gGPAOVZiDYgPgI6WYwtlBn+O8GF5oY6o+AM4xul9irwf3gattu6tgvA3NAjbHFlcSMAatARzdG7cEK0M31Sce+BNTZPvQuYCJ4CuwDz4PfgF4mjnrksWHvAfQNRCDUc/pH7wWWgzNNjF1ifwyc5NiU44fgcbAH/BfMBqebOOpFz49iiRPv14C/g93gGfAH0M/kMiU28TAZrAdbwAIw2vhVop8CHgRbwVrwAPi4HePW8Ys7nZMoDLDjiRkO5oItYBNQ/qF2jOrYZoDs3LP92H8L9BGd4krin3h7rEvR7wE6F8fbfbh1/GNA3Jy8Hl/UsRtbn3CsOevJ9EHbpJxo7JFrFvuvwKUm57u5NB8i1icYpD4ushf6R9H10VGepFIpvl9qmoRjIeUy9GdMELq+qrwTXII9bexRJbHaIG8EirsSTAO2pFAGA3Mctk91bZDHGSP59OGU+v4buB5sAR8DnwUz8X+FMb1FPe7Y2uNTf0ZM/+bLT/m1+cwm17nk2msCw1J9vc/YiOlJfS5YByaD54A2Cy3CqfivJMdG6vWgoBDbgwDl2gCmggZQBy4A8/CPI9cc6lqoGvcCsBJ8HWic2vBG4NtE3H8o+6IvBBPBTUDHdjbQAv0BMa9SjxJxpzbq35WdMtBe5/X3QIvxPvBToPN0HhiPfyn5f0LdyClUuhrFKTWfVoW2kvinjT1WzaF6oPP3T8bwC8Ywn3qOhGMvNCf/SoMlYSPxdR0YHeoqXg7rOespzFsKJxr7MNqtZZxPhjlN0Z/KLqO8m8u4hdvqMUOK7gTGkUh3QoPR91NqgjwAJqEvTdDJCGJ2A03Qv9B+Ou30CXjJQtsTaTQPfNHpewc2LcZyydskugPouC+mr0KbrDbCh4j5tdX5duqawBMsW5Kqju2RiFy6ss/Gp01lG/6nqHcCQ8AIdLMgtBk/DIxo896HX8diZA2VmUYpUK6h3bICfs2LvsRc4sSsYYx/wvY05XX4tSmXKqXwr9z2WBejz6LvekrdsWiumM0EUyAF5yTxjUQJ2mg7U7yJrRAXCpW0hBNthBrvefRRmQ2Hu1P6WKEBWrKW+smW3lxNpVaj7G82FKxtDR7BCoa0zqkroRbUlDCNFtprYHyoFytuIGAC5Gqz2glGFmtQwK+rqxagclVU6GM6HewBt8Z1xKTR3Y+ukIptlZDrAyQ4B0TmYjyaRI+B4aAKXedAC0uPP/YdndxGtGj64L8T6E6qnKLzGDfWQ/h0J/CFlnaYhP9CuWnfiP9REDWGcs5Jexgt4UR3sLpQzeEctbOTlateXVurTVR/dmEj/qKaSuniZseq/iDQeXXt6VqMFRNOpB7FLqeD5yjvovwyOE32Yp0Sr8XZidgFYextlDeBh0K91OIjNHi+hEa6g3nTiS+Fr+/QVneBKzgGnQBXNJ6d+F53HS3QP5wg13piBlm5R1HXhUHvwrS5i9ffMZ7NlNqk9mDXhjUNbKPeQKnjmJpgzOOIN3dWNAlkHu30jkXv/QYCjSdO3LHGxRWyF+O/UFv51oGhdhBjL/ecDNK3hhM4/SPtP0WiO8A19njLUc+k0935W7AhTi6tA20m+ZLJ9OOPUe15phjNHV0gXWmo9B2QJrIm99gQV6Fvd0cRowdXGuOj3XzqJ0D2ucZG2RQibmPQ8Rmi9lLvAZLKZAK/5+DGpI0Z735ig0XOmE+NaKfxdMNXjnOQJFd3+tNdWSCMbxf4KkovcDPQpFnNeLKTB//T4Czs2jBmga+BlcTE8Y07EE24fzl4QR7ypSn0/qin9BjJGSsxahP3g4V9jrPp6KcY/9nYmIo7BoXdACaYePqImpPGnbhsISd2/qtQzue8jLGNbaFejsmf5DgfD4MWJgmGyP7EfQn8nPqzBui9gSZBIOGJ24HSJzRlC9poAmmhyC9ZDc7AflygFf9Hi+8fNmjyRPFmzRG0VZ8/Bg/Tb5dmT1DT3ZgW1WmOvSWqXjwrl97bxImuYqtcJ2PcC+4BF+ObAjSZcwSfXkxPwqixahP7fE5AvjKX+CkOFlth4iXqimhC3LFuw9HXOJ1S536rYwtU+i/Ef1QT2zYU5Vlj4PwlmpMmvgVlqZxku+A4D6CMArczzsFZRxuoFLuSHa1DuJaO7wL2S1GNRb/e3AfJAyB9kwyIFpUWxHIpllxEfT1xh0KbFsBL4EcgexULfXpheDKxWshlFXLeS27dIs8C2Q1f48I+E9t48DmQI/hOwtBInK7+BYWYg8TfTdCtlMPRdWeYFWwjUT4E9AilYxWPdcRpYduiR59vy0BMV4o0MXpfFAj1NPaNKHoUefSItUX/6pdI/co3k5z77AzYtKFcDS607OYcT7RsGmM/dPGkl6KRQv5I/iODQyN5L6OqvPdacaXMSatZ4mqpnOQk5jj1mYTGqEdpnaO2Iwxc31ncAtq5MEeBfTEYbekvoH/ajUfP29Sw6dFJ0s20jyuJ6Qr+Bz4YFYN9MphmfNTPAa+DUSBY4JRDwQ5wqYlTiX4+OAB+BjqFNn07ooWrb4J6hjYdm66AOYLtRJBd3FRrpSN6jFH+OvBGTqMj9g7YG4Ak+zhGvQfYDvStje7ulENcXQ5eA9pEZZsBbgGFzk93/PpeR9+H1IXt1O8V4FWgRRUI9WGh7VuUnWWkHAg0xl+Guu4+xcMFoD2oBp8Eb4DPBIki/sGnNnncuaHEzAdaNGeBFDD5N1PPnt9wLJ2xvQj0bqlDaKun/m+ghRsI9TpQCv8aq5nDHamfCSYA8ZW9y6Ne0py0xnMRbbWp5wn2nPWkAGylcKKxf8JNjE3ffUm+7/oK6cTrW7hcSac3pA8f/nOuMdD0blO/rrqyvCmdXuca0adH2GSaHoyJyoyYAJnNos4hDLsIiJJF7oESVMoGpM1BdwuRgm8A0E/63U0A9ZFgE9DieAXsBGON3y6xnwqeAIrdDQ4DnXi9yA2Euo4tbxFha9EGpKS01QLXxM5uQKFd74H0iYHGrUWWBvqA0F4ARc9PmKsL7TRh9oKXwAGwDOQ97mA7G4gHbXTq922gidJeuSTUvwH0wZ3y6KKgF9N6LxYr+CO5cxsQpw1H53orEC8axwbwTTdWOnadt0VA49SxaQ7cDjqaeOp1IG8DCtvn8U+sxmpEd6Q6Vn0PpjurrKCXPCfVmHalbkCJOSG3xh61AemisxK0nQ0oy3Qbr0C6FmCPJIdBnO4m+oPjk8RXOoZx6C6gHyh6l5hkLOTpC7KbSVwbYtRvb1BTIEZ3QMFdXlxMa+zk1p3g+5PkIE4LTJ8H6DHyPSscX2JOykEC/R2VO6C8x6VyHMzRysFz8CtJ+yZW74Y2J42vdBzj0aNd5MvUlvRNvu1J2oX97ioUS8xB/C8WimmNj/wvJ21P7FvEmh8WkjZrc3GlcNLmDs4acPB4Zem+6hnwDHgG3jEG/Ab0jlHtO/IMeAZcBt5Tj2DuwXndM+AZSMzAZr56vt+O5o34Lt6kb8hYf9AtP19G76FoIr5RupHAnskc5M8fGoxNJXc5y6tqar5r20zdb0CGCV96Bo5lBjKZuupU6vQcCtDZPPK+UavKsCUhxOeEB/bq6uaP3Zq9kZ8iyO03oGaSfM0zcOwycOQ/ExxUIQIiv+lTX/4dUIUY92k9A56B4gz4Dag4Rz7CM+AZqBADfgOqELE+rWfAM1CcAf8OqDhHPsIzcCwwsISDDP7OrgIHuygm56L/A3aI/i8bl6EgAAAAAElFTkSuQmCC"},878:function(e,t,r){r(321),e.exports=r(320)}},[878]);
//# sourceMappingURL=bundle.e9ee333bf70e2fef3129.js.map